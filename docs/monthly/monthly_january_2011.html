<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last.fm Stats - January 2011</title>
    <link rel="icon" type="image/png" href="images/music.png">
    <!-- Umami Analytics -->
    <script defer src="https://cloud.umami.is/script.js" data-website-id="5d84fd6c-0760-4a0c-a2d0-ffabb82179f5"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1e1e2e;
            color: #cdd6f4;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #181825;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: #1e1e2e;
            padding: 20px 30px;
            border-bottom: 2px solid #cba6f7;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 80px;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
        }

        h1 {
            font-size: 1.8em;
            color: #cba6f7;
            margin: 0;
            text-align: center;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .nav-button {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
        }

        .nav-button:hover {
            border-color: #cba6f7;
            background: #45475a;
            color: #cdd6f4;
        }

        .nav-button.current {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .user-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #181825;
            color: #1e1e2e;
            border: none;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .user-button:hover {
            background: #b4a3e8;
            transform: scale(1.1);
        }

        .user-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .user-modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #cba6f7;
        }

        .user-modal-header {
            color: #cba6f7;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }

        .user-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.5em;
            cursor: pointer;
            padding: 0;
        }

        .user-modal-close:hover {
            color: #cba6f7;
        }

        .user-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .user-option {
            padding: 12px 20px;
            background: #313244;
            border: 2px solid #45475a;
            border-radius: 8px;
            color: #cdd6f4;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .user-option:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .user-option.selected {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .controls {
            padding: 20px 30px;
            background: #1e1e2e;
            border-bottom: 1px solid #313244;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
        }

        .control-group {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
        }

        .control-group label {
            color: #cba6f7;
            font-weight: 600;
        }

        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-filter {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
        }

        .category-filter:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .category-filter.active {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .period-header {
            background: #1e1e2e;
            padding: 25px 30px;
            border-bottom: 2px solid #cba6f7;
        }

        .period-header h2 {
            color: #cba6f7;
            font-size: 1.5em;
            margin-bottom: 8px;
        }

        .period-info {
            color: #a6adc8;
            font-size: 0.9em;
        }

        .stats-container {
            padding: 30px;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        .category {
            background: #1e1e2e;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #313244;
            display: none;
        }

        .category.visible {
            display: block;
        }

        .category h3 {
            color: #cba6f7;
            font-size: 1.2em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #cba6f7;
        }

        .item {
            padding: 12px;
            margin-bottom: 10px;
            background: #181825;
            border-radius: 8px;
            border-left: 3px solid #45475a;
            transition: all 0.3s;
            cursor: pointer;
        }

        .item:hover {
            transform: translateX(5px);
            border-left-color: #cba6f7;
        }

        .item.highlighted {
            border-left-color: #cba6f7;
            background: #1a1826;
        }

        .item-name {
            font-weight: 600;
            color: #cdd6f4;
            font-size: 1em;
        }

        .item-meta {
            margin-top: 8px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .badge {
            background: #45475a;
            color: #cdd6f4;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .user-badge {
            background: #313244;
            color: #a6adc8;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75em;
            border: 1px solid #45475a;
        }

        .user-badge.highlighted-user {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .expandable {
            position: relative;
        }

        .expandable::after {
            content: '‚ñº';
            position: absolute;
            right: 12px;
            top: 12px;
            color: #6c7086;
            font-size: 0.8em;
        }

        .expandable.expanded::after {
            content: '‚ñ≤';
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 15px;
            margin-top: 10px;
        }

        .details.expanded {
            max-height: 400px;
            overflow-y: auto;
            border-top: 1px solid #313244;
            padding-top: 15px;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-title {
            color: #f9e2af;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .detail-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .detail-item {
            background: #181825;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            color: #a6adc8;
        }

        .novelty-section {
            margin-bottom: 25px;
        }

        .novelty-section h4 {
            color: #a6e3a1;
            font-size: 1.05em;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #45475a;
        }

        .novelty-subsection {
            margin-bottom: 20px;
        }

        .novelty-subsection h5 {
            color: #f9e2af;
            font-size: 0.95em;
            margin-bottom: 10px;
        }

        .novelty-empty {
            color: #6c7086;
            font-style: italic;
            text-align: center;
            padding: 20px;
        }

        .artists-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border: 2px solid #cba6f7;
            border-radius: 12px;
            padding: 20px;
            max-width: 500px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 999;
        }

        .popup-header {
            color: #cba6f7;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            border-bottom: 1px solid #313244;
            padding-bottom: 10px;
        }

        .popup-close {
            float: right;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.2em;
            cursor: pointer;
            padding: 0;
            margin-top: -5px;
        }

        .popup-close:hover {
            color: #cba6f7;
        }

        .artist-list {
            list-style: none;
            padding: 0;
        }

        .artist-list li {
            padding: 8px 12px;
            background: #181825;
            margin-bottom: 5px;
            border-radius: 6px;
            border-left: 3px solid #45475a;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #6c7086;
            font-style: italic;
        }

        .last-update {
            text-align: center;
            padding: 20px;
            color: #6c7086;
            font-size: 0.85em;
            border-top: 1px solid #313244;
        }

        @media (max-width: 768px) {
            .categories {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .category-filters {
                justify-content: center;
            }

            .artists-popup {
                max-width: 90%;
                max-height: 80%;
            }

            header {
                flex-direction: column;
                gap: 15px;
            }

            .nav-buttons {
                order: -1;
            }

            .user-button {
                order: 1;
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üìä RYM Hispano Estad√≠sticas</h1>
                <div class="nav-buttons">
                    <a href="esta-semana.html" class="nav-button">TEMPORALES</a>
                    <a href="index.html#grupo" class="nav-button">GRUPO</a>
                    <a href="index.html#about" class="nav-button">ACERCA DE</a>
                </div>
            </div>
            <button class="user-button" id="userButton">üë§</button>
        </header>

        <!-- Modal de selecci√≥n de usuario -->
        <div class="user-modal" id="userModal">
            <div class="user-modal-content">
                <button class="user-modal-close" id="userModalClose">√ó</button>
                <div class="user-modal-header">Seleccionar Usuario</div>
                <div class="user-options" id="userOptions">
                    <!-- Se llenar√°n din√°micamente -->
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">

                <div class="category-filters">
                    <button class="category-filter active" data-category="artists">Artistas</button><button class="category-filter " data-category="tracks">Canciones</button><button class="category-filter " data-category="albums">√Ålbumes</button><button class="category-filter " data-category="genres">G√©neros</button><button class="category-filter " data-category="labels">Sellos</button><button class="category-filter " data-category="years">A√±os</button><button class="category-filter " data-category="novelties">Novedades</button>
                </div>
            </div>
        </div>

        <div class="period-header">
            <h2>January 2011</h2>
            <p class="period-info">
                <span id="dateRange"></span> |
                <span id="totalScrobbles"></span> scrobbles totales
            </p>
        </div>

        <div class="stats-container">
            <div class="categories" id="categoriesContainer">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </div>

        <div class="last-update">
            Generado: <span id="generatedAt"></span>
        </div>
    </div>

    <script>
        // Usuarios reales del entorno LASTFM_USERS
        const availableUsers = ["alberto_gu", "EliasJ72", "Frikomid", "GabredMared", "Lonsonxd", "Nubis84", "paqueradejere", "Rocky_stereo", "sdecandelario"];
        const stats = {
  "total_scrobbles": 2228,
  "artists": [
    {
      "name": "Frank Zappa",
      "count": 46,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 45
      }
    }
  ],
  "tracks": [],
  "albums": [],
  "genres": [
    {
      "name": "heavy metal",
      "count": 670,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 666
      },
      "user_artists": {
        "Nubis84": [
          "Shadow Gallery"
        ],
        "sdecandelario": [
          "Saxon",
          "Nevermore",
          "Megadeth",
          "Sabaton",
          "Tierra Santa",
          "Mot√∂rhead",
          "UFO",
          "Warrant",
          "Heaven's Gate",
          "Stryper",
          "White Spirit",
          "Skyclad",
          "HammerFall",
          "Michael Schenker Group",
          "Twisted Sister",
          "Ob√∫s",
          "Masterplan",
          "Judas Priest",
          "Heavens Gate",
          "Lordi",
          "Iced Earth",
          "Tytan",
          "Rainbow",
          "Helloween",
          "Overkill",
          "Tank",
          "Skid Row",
          "Manowar",
          "Primal Fear",
          "Queensr√øche",
          "Slayer",
          "Iron Maiden",
          "Impellitteri",
          "Ratt",
          "Kreator",
          "Halford",
          "Steelwing",
          "Enuma Elish",
          "Nazareth"
        ]
      },
      "top_artists": [
        "Impellitteri",
        "Lordi",
        "Tank",
        "UFO",
        "Tierra Santa",
        "Halford",
        "Sabaton",
        "Helloween",
        "Heaven's Gate",
        "Saxon"
      ],
      "top_albums": [
        "Sabaton - Metalizer",
        "Helloween - 7 Sinners",
        "Impellitteri - The Very Best Of Impellitteri ÔΩûFaster Than The Speed Of Light",
        "Lordi - Babez for Breakfast",
        "Halford - Resurrection",
        "Lordi - Deadache",
        "Lordi - The Monsterican Dream",
        "Ob√∫s - C√°llate",
        "Lordi - Get Heavy",
        "Halford - Crucible"
      ]
    },
    {
      "name": "metal",
      "count": 517,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 23,
        "sdecandelario": 494
      },
      "user_artists": {
        "Nubis84": [
          "Shadow Gallery",
          "Tool",
          "Osi",
          "Mastodon"
        ],
        "sdecandelario": [
          "Saxon",
          "Nevermore",
          "Megadeth",
          "Sabaton",
          "Pain",
          "Tierra Santa",
          "Mot√∂rhead",
          "Fferyllt",
          "Skyclad",
          "HammerFall",
          "Masterplan",
          "Judas Priest",
          "Heavens Gate",
          "Lordi",
          "Iced Earth",
          "Tytan",
          "Rainbow",
          "Helloween",
          "Overkill",
          "Manowar",
          "Primal Fear",
          "Queensr√øche",
          "Slayer",
          "Iron Maiden",
          "Impellitteri",
          "Kreator",
          "Halford",
          "Steelwing",
          "Enuma Elish"
        ]
      },
      "top_artists": [
        "Impellitteri",
        "Lordi",
        "Tierra Santa",
        "Halford",
        "Sabaton",
        "Helloween",
        "Saxon",
        "Judas Priest",
        "Masterplan",
        "HammerFall"
      ],
      "top_albums": [
        "Sabaton - Metalizer",
        "Helloween - 7 Sinners",
        "Impellitteri - The Very Best Of Impellitteri ÔΩûFaster Than The Speed Of Light",
        "Lordi - Babez for Breakfast",
        "Halford - Resurrection",
        "Lordi - Deadache",
        "Lordi - The Monsterican Dream",
        "Lordi - Get Heavy",
        "Halford - Crucible",
        "Tierra Santa - Caminos De Fuego"
      ]
    },
    {
      "name": "rock",
      "count": 305,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 115,
        "sdecandelario": 190
      },
      "user_artists": {
        "Nubis84": [
          "The Kinks",
          "Television",
          "Ween",
          "Tool",
          "U2",
          "◊ê◊ë◊ô◊ë ◊í◊§◊ü",
          "Riverside",
          "Tom Waits",
          "Morphine",
          "Sting",
          "Quidam",
          "The Flaming Lips",
          "Pavement",
          "Porcupine Tree",
          "The Pineapple Thief",
          "Sparklehorse",
          "The Verve",
          "The Beatles",
          "John Wesley",
          "The Velvet Underground",
          "Radiohead",
          "The Rolling Stones",
          "Lynyrd Skynyrd"
        ],
        "sdecandelario": [
          "Kiss",
          "Wolfmother",
          "H√©roes del Silencio",
          "Mot√∂rhead",
          "UFO",
          "Warrant",
          "Journey",
          "The Stooges",
          "Michael Schenker Group",
          "Twisted Sister",
          "Steve Vai",
          "Lordi",
          "Rainbow",
          "Skid Row",
          "Rage Against the Machine",
          "Whitesnake",
          "Iron Maiden",
          "The Jimi Hendrix Experience",
          "Nazareth"
        ]
      },
      "top_artists": [
        "Lordi",
        "UFO",
        "The Beatles",
        "The Rolling Stones",
        "Radiohead",
        "Rainbow",
        "The Flaming Lips",
        "Whitesnake",
        "Iron Maiden",
        "The Jimi Hendrix Experience"
      ],
      "top_albums": [
        "Lordi - Babez for Breakfast",
        "Lordi - Deadache",
        "Lordi - The Monsterican Dream",
        "Lordi - Get Heavy",
        "The Beatles - Hey Jude",
        "UFO - You Are Here",
        "Lordi - The Arockalypse",
        "Whitesnake - Whitesnake",
        "UFO - The Monkey Puzzle",
        "UFO - Sharks"
      ]
    },
    {
      "name": "hard rock",
      "count": 299,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 298
      },
      "user_artists": {
        "Nubis84": [
          "Lynyrd Skynyrd"
        ],
        "sdecandelario": [
          "Kiss",
          "Saxon",
          "Wolfmother",
          "H√©roes del Silencio",
          "Mot√∂rhead",
          "UFO",
          "Warrant",
          "Stratus",
          "Stryper",
          "White Spirit",
          "Journey",
          "Michael Schenker Group",
          "Twisted Sister",
          "Ob√∫s",
          "Judas Priest",
          "Heavens Gate",
          "Lordi",
          "Tytan",
          "Rainbow",
          "Skid Row",
          "Queensr√øche",
          "Whitesnake",
          "Iron Maiden",
          "Ratt",
          "Halford",
          "Nazareth"
        ]
      },
      "top_artists": [
        "Lordi",
        "UFO",
        "Halford",
        "Saxon",
        "Judas Priest",
        "Rainbow",
        "Ob√∫s",
        "Whitesnake",
        "Iron Maiden",
        "White Spirit"
      ],
      "top_albums": [
        "Lordi - Babez for Breakfast",
        "Halford - Resurrection",
        "Lordi - Deadache",
        "Lordi - The Monsterican Dream",
        "Ob√∫s - C√°llate",
        "Lordi - Get Heavy",
        "Halford - Crucible",
        "UFO - You Are Here",
        "Lordi - The Arockalypse",
        "Halford - Halford III - Winter Songs"
      ]
    },
    {
      "name": "classic rock",
      "count": 187,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 63,
        "sdecandelario": 124
      },
      "user_artists": {
        "Nubis84": [
          "The Kinks",
          "U2",
          "The Beatles",
          "The Velvet Underground",
          "The Rolling Stones",
          "Lynyrd Skynyrd",
          "Sting"
        ],
        "sdecandelario": [
          "Kiss",
          "Michael Schenker Group",
          "UFO",
          "Whitesnake",
          "Judas Priest",
          "The Jimi Hendrix Experience",
          "Rainbow",
          "Journey",
          "Nazareth"
        ]
      },
      "top_artists": [
        "UFO",
        "The Beatles",
        "The Rolling Stones",
        "Judas Priest",
        "Rainbow",
        "Whitesnake",
        "The Jimi Hendrix Experience",
        "Journey",
        "Michael Schenker Group",
        "Sting"
      ],
      "top_albums": [
        "The Beatles - Hey Jude",
        "UFO - You Are Here",
        "Whitesnake - Whitesnake",
        "Judas Priest - Stained Class",
        "UFO - The Monkey Puzzle",
        "UFO - Sharks",
        "Judas Priest - British Steel",
        "UFO - The Visitor",
        "Rainbow - Down to Earth",
        "The Rolling Stones - The Rolling Stone Magazines 50"
      ]
    },
    {
      "name": "pop",
      "count": 99,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 36,
        "sdecandelario": 63
      },
      "user_artists": {
        "Nubis84": [
          "Sting",
          "The Beatles",
          "U2"
        ],
        "sdecandelario": [
          "Tank"
        ]
      },
      "top_artists": [
        "Tank",
        "The Beatles",
        "Sting",
        "U2"
      ],
      "top_albums": [
        "The Beatles - Hey Jude",
        "Tank - Still at War",
        "Tank - Power of the Hunter",
        "Tank - War Machine",
        "Tank - TANK",
        "Tank - Honour & Blood",
        "Tank - This Means War",
        "Tank - Filth Hounds of Hades",
        "The Beatles - Alternative Hey Jude",
        "The Beatles - Revolver"
      ]
    },
    {
      "name": "Progressive rock",
      "count": 88,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 29,
        "sdecandelario": 59
      },
      "user_artists": {
        "Nubis84": [
          "Barbieri",
          "Shadow Gallery",
          "Henry Fool",
          "Tool",
          "Porcupine Tree",
          "Mick Karn",
          "John Wesley",
          "◊ê◊ë◊ô◊ë ◊í◊§◊ü",
          "Osi",
          "Riverside",
          "The Pineapple Thief",
          "Spirits Burning",
          "Steven Wilson",
          "Coltsfoot",
          "Quidam"
        ],
        "sdecandelario": [
          "UFO",
          "Journey",
          "Queensr√øche"
        ]
      },
      "top_artists": [
        "UFO",
        "Journey",
        "Tool",
        "Porcupine Tree",
        "Shadow Gallery",
        "Mick Karn",
        "John Wesley",
        "Coltsfoot",
        "Henry Fool",
        "Steven Wilson"
      ],
      "top_albums": [
        "UFO - You Are Here",
        "UFO - The Monkey Puzzle",
        "UFO - Sharks",
        "UFO - The Visitor",
        "Journey - The Essential Journey",
        "UFO - Covenant",
        "Mick Karn - The Tooth Mother",
        "Porcupine Tree - Live Seattle",
        "John Wesley - Shiver",
        "Coltsfoot - A Winter Harvest"
      ]
    },
    {
      "name": "british",
      "count": 78,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 61,
        "sdecandelario": 17
      },
      "user_artists": {
        "Nubis84": [
          "The Kinks",
          "The Verve",
          "The Beatles",
          "The Rolling Stones",
          "Sting"
        ],
        "sdecandelario": [
          "Tytan",
          "White Spirit",
          "Skyclad"
        ]
      },
      "top_artists": [
        "The Beatles",
        "The Rolling Stones",
        "White Spirit",
        "Tytan",
        "Sting",
        "The Verve",
        "The Kinks",
        "Skyclad"
      ],
      "top_albums": [
        "The Beatles - Hey Jude",
        "White Spirit - White Spirit",
        "The Rolling Stones - The Rolling Stone Magazines 50",
        "Tytan - Rough Justice",
        "The Beatles - Alternative Hey Jude",
        "The Rolling Stones - Exile on Main Street",
        "The Beatles - Revolver",
        "The Rolling Stones - Between the Buttons Single's",
        "The Rolling Stones - Beggars Banquet",
        "The Verve - Urban Hymns"
      ]
    },
    {
      "name": "alternative",
      "count": 65,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 61,
        "sdecandelario": 4
      },
      "user_artists": {
        "Nubis84": [
          "Joy Division",
          "The Magnetic Fields",
          "Ween",
          "Sonic Youth",
          "The Flaming Lips",
          "Tool",
          "The Verve",
          "U2",
          "Pavement",
          "New Fast Automatic Daffodils",
          "The Velvet Underground",
          "Radiohead",
          "Tom Waits",
          "Morphine",
          "Sparklehorse",
          "my bloody valentine"
        ],
        "sdecandelario": [
          "Rage Against the Machine",
          "Wolfmother",
          "Pain"
        ]
      },
      "top_artists": [
        "Radiohead",
        "The Flaming Lips",
        "my bloody valentine",
        "Tool",
        "Sonic Youth",
        "U2",
        "The Verve",
        "New Fast Automatic Daffodils",
        "Morphine",
        "Pain"
      ],
      "top_albums": [
        "my bloody valentine - Loveless",
        "Radiohead - In Rainbows",
        "Radiohead - The Best Of (CD 1)",
        "The Flaming Lips - Telepathic Surgery",
        "Radiohead - Kid A",
        "The Flaming Lips - Clouds Taste Metallic",
        "Sonic Youth - Bad Moon Rising",
        "The Verve - Urban Hymns",
        "New Fast Automatic Daffodils - Body Exit Mind",
        "Morphine - B-Sides and Otherwise"
      ]
    },
    {
      "name": "soul",
      "count": 65,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 63
      },
      "user_artists": {
        "Nubis84": [
          "Nina Simone"
        ],
        "sdecandelario": [
          "Tank"
        ]
      },
      "top_artists": [
        "Tank",
        "Nina Simone"
      ],
      "top_albums": [
        "Tank - Still at War",
        "Tank - Power of the Hunter",
        "Tank - War Machine",
        "Tank - TANK",
        "Tank - Honour & Blood",
        "Tank - This Means War",
        "Tank - Filth Hounds of Hades",
        "Nina Simone - Blue for You"
      ]
    },
    {
      "name": "shoegaze",
      "count": 42,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 13,
        "sdecandelario": 29
      },
      "user_artists": {
        "Nubis84": [
          "Have a Nice Life",
          "Th' Faith Healers",
          "my bloody valentine"
        ],
        "sdecandelario": [
          "Heaven's Gate"
        ]
      },
      "top_artists": [
        "Heaven's Gate",
        "my bloody valentine",
        "Th' Faith Healers",
        "Have a Nice Life"
      ],
      "top_albums": [
        "my bloody valentine - Loveless",
        "Heaven's Gate - In Control",
        "Heaven's Gate - Livin' in Hysteria",
        "Heaven's Gate - Hell For Sale!",
        "Heaven's Gate - Hell For Sale !",
        "Th' Faith Healers - The Peel Sessions",
        "Have a Nice Life - The Big Gloom"
      ]
    },
    {
      "name": "blues",
      "count": 41,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 32,
        "sdecandelario": 9
      },
      "user_artists": {
        "Nubis84": [
          "The Rolling Stones",
          "Nina Simone",
          "Tom Waits",
          "Jason Freeman",
          "Morphine",
          "Miles Davis"
        ],
        "sdecandelario": [
          "The Jimi Hendrix Experience"
        ]
      },
      "top_artists": [
        "The Rolling Stones",
        "The Jimi Hendrix Experience",
        "Nina Simone",
        "Morphine",
        "Miles Davis",
        "Tom Waits",
        "Jason Freeman"
      ],
      "top_albums": [
        "The Rolling Stones - The Rolling Stone Magazines 50",
        "The Rolling Stones - Exile on Main Street",
        "The Jimi Hendrix Experience - Are You Experienced?",
        "The Jimi Hendrix Experience - Electric Ladyland",
        "The Rolling Stones - Between the Buttons Single's",
        "The Rolling Stones - Beggars Banquet",
        "Nina Simone - Blue for You",
        "The Rolling Stones - The Rolling Stone Magazines 500 Greatest Songs Of All Time",
        "Morphine - B-Sides and Otherwise",
        "Miles Davis - Get Up With It"
      ]
    },
    {
      "name": "80s",
      "count": 37,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 33
      },
      "user_artists": {
        "Nubis84": [
          "Joy Division",
          "The Sound"
        ],
        "sdecandelario": [
          "Kiss",
          "Whitesnake",
          "Twisted Sister",
          "Warrant",
          "Ratt",
          "White Spirit",
          "Journey",
          "Skid Row"
        ]
      },
      "top_artists": [
        "Whitesnake",
        "White Spirit",
        "Journey",
        "The Sound",
        "Skid Row",
        "Joy Division",
        "Kiss",
        "Twisted Sister",
        "Warrant",
        "Ratt"
      ],
      "top_albums": [
        "Whitesnake - Whitesnake",
        "White Spirit - White Spirit",
        "Journey - The Essential Journey",
        "The Sound - Jeopardy",
        "Skid Row - Skid Row",
        "The Sound - Dutch Radio Recordings, Vol. 2",
        "Joy Division - Unknown Pleasures",
        "Kiss - Destroyer",
        "Twisted Sister - Come Out And Play",
        "Warrant - Cherry Pie"
      ]
    },
    {
      "name": "alternative rock",
      "count": 32,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 31,
        "sdecandelario": 1
      },
      "user_artists": {
        "Nubis84": [
          "The Flaming Lips",
          "Ween",
          "Radiohead",
          "The Pineapple Thief"
        ],
        "sdecandelario": [
          "Rage Against the Machine"
        ]
      },
      "top_artists": [
        "Radiohead",
        "The Flaming Lips",
        "The Pineapple Thief",
        "Ween",
        "Rage Against the Machine"
      ],
      "top_albums": [
        "Radiohead - In Rainbows",
        "Radiohead - The Best Of (CD 1)",
        "The Flaming Lips - Telepathic Surgery",
        "Radiohead - Kid A",
        "The Flaming Lips - Clouds Taste Metallic",
        "The Flaming Lips - Transmissions From the Satellite Heart",
        "The Flaming Lips - Hit to Death in the Future Head",
        "The Flaming Lips - In a Priest-Driven Ambulance",
        "The Flaming Lips - Oh My Gawd!!!...The Flaming Lips",
        "Radiohead - The Best Of (Cd 2)"
      ]
    },
    {
      "name": "hardcore",
      "count": 32,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 30
      },
      "user_artists": {
        "Nubis84": [
          "Nosferatu"
        ],
        "sdecandelario": [
          "Heaven's Gate",
          "The Chariot"
        ]
      },
      "top_artists": [
        "Heaven's Gate",
        "Nosferatu",
        "The Chariot"
      ],
      "top_albums": [
        "Heaven's Gate - In Control",
        "Heaven's Gate - Livin' in Hysteria",
        "Heaven's Gate - Hell For Sale!",
        "Heaven's Gate - Hell For Sale !",
        "Nosferatu - Music from the Succubus Club",
        "The Chariot - The Warrior"
      ]
    },
    {
      "name": "Progressive metal",
      "count": 31,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 28,
        "sdecandelario": 3
      },
      "user_artists": {
        "Nubis84": [
          "Shadow Gallery",
          "Tool",
          "Porcupine Tree",
          "Mastodon",
          "Osi",
          "Riverside"
        ],
        "sdecandelario": [
          "Nevermore",
          "Queensr√øche",
          "Iced Earth"
        ]
      },
      "top_artists": [
        "Mastodon",
        "Tool",
        "Porcupine Tree",
        "Shadow Gallery",
        "Osi",
        "Riverside",
        "Iced Earth",
        "Queensr√øche",
        "Nevermore"
      ],
      "top_albums": [
        "Mastodon - Blood Mountain",
        "Mastodon - Crack the Skye",
        "Mastodon - Leviathan",
        "Porcupine Tree - Live Seattle",
        "Shadow Gallery - Room V",
        "Shadow Gallery - Digital Ghosts",
        "Osi - Office of Strategic Influence (Limited Edition)",
        "Riverside - Voices In My Head",
        "Iced Earth - Horror Show",
        "Queensr√øche - The Warning"
      ]
    },
    {
      "name": "electronic",
      "count": 29,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 28,
        "sdecandelario": 1
      },
      "user_artists": {
        "Nubis84": [
          "Portishead",
          "Vidna Obmana",
          "Radiohead",
          "Ricardo Villalobos",
          "Banco De Gaia",
          "The Cr√ºxshadows",
          "Pendulum"
        ],
        "sdecandelario": [
          "Stratus"
        ]
      },
      "top_artists": [
        "Radiohead",
        "Portishead",
        "The Cr√ºxshadows",
        "Pendulum",
        "Vidna Obmana",
        "Banco De Gaia",
        "Ricardo Villalobos",
        "Stratus"
      ],
      "top_albums": [
        "Radiohead - In Rainbows",
        "Radiohead - The Best Of (CD 1)",
        "Radiohead - Kid A",
        "The Cr√ºxshadows - Music From The Succubus Club",
        "Pendulum - Immersion",
        "Portishead - Dummy",
        "Radiohead - The Best Of (Cd 2)",
        "Vidna Obmana - Legacy",
        "Banco De Gaia - 10 Years",
        "Portishead - Third"
      ]
    }
  ],
  "labels": [
    {
      "name": "Warner Bros. Records",
      "count": 118,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 114
      },
      "user_artists": {
        "Nubis84": [
          "The Flaming Lips"
        ],
        "sdecandelario": [
          "Black Sabbath",
          "Alice Cooper"
        ]
      },
      "top_artists": [
        "Alice Cooper",
        "Black Sabbath",
        "The Flaming Lips"
      ],
      "top_albums": [
        "Alice Cooper - Pretties for You",
        "Alice Cooper - Special Forces",
        "Alice Cooper - Flush The Fashion",
        "Alice Cooper - Lace and Whiskey",
        "Alice Cooper - Billion Dollar Babies",
        "Alice Cooper - DaDa",
        "Alice Cooper - Zipper Catches Skin",
        "Alice Cooper - Muscle of Love",
        "Alice Cooper - School's Out",
        "Alice Cooper - Love It to Death"
      ]
    },
    {
      "name": "EMI",
      "count": 49,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 48
      },
      "user_artists": {
        "Nubis84": [
          "Moura Lympany"
        ],
        "sdecandelario": [
          "Iron Maiden",
          "Saxon",
          "Deep Purple",
          "Michael Schenker Group"
        ]
      },
      "top_artists": [
        "Deep Purple",
        "Iron Maiden",
        "Moura Lympany",
        "Michael Schenker Group",
        "Saxon"
      ],
      "top_albums": [
        "Deep Purple - The Platinum Collection",
        "Iron Maiden - Fear of the Dark",
        "Moura Lympany - The Best Classical Album Of The Millennium... Ever! [Disc 01] Relaxing",
        "Michael Schenker Group - Unplugged Live",
        "Saxon - Destiny"
      ]
    },
    {
      "name": "[no label]",
      "count": 47,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 45
      },
      "user_artists": {
        "Nubis84": [
          "Riverside",
          "Daniel Johnston"
        ],
        "sdecandelario": [
          "Abney Park"
        ]
      },
      "top_artists": [
        "Abney Park",
        "Riverside",
        "Daniel Johnston"
      ],
      "top_albums": [
        "Abney Park - The End of Days",
        "Abney Park - From Dreams or Angels",
        "Abney Park - Lost Horizons",
        "Abney Park - The Death of Tragedy",
        "Abney Park - Taxidermy",
        "Riverside - Voices In My Head",
        "Daniel Johnston - Songs Of Pain"
      ]
    },
    {
      "name": "Atlantic",
      "count": 28,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 26
      },
      "user_artists": {
        "Nubis84": [
          "Pendulum"
        ],
        "sdecandelario": [
          "AC/DC",
          "Manowar",
          "Overkill",
          "Skid Row"
        ]
      },
      "top_artists": [
        "AC/DC",
        "Pendulum",
        "Skid Row",
        "Overkill",
        "Manowar"
      ],
      "top_albums": [
        "AC/DC - Flick of the Switch",
        "AC/DC - Fly on the Wall",
        "AC/DC - For Those About To Rock",
        "AC/DC - If You Want Blood You've Got It",
        "Pendulum - Immersion",
        "Skid Row - Skid Row",
        "Overkill - Taking Over",
        "Manowar - Kings of Metal"
      ]
    },
    {
      "name": "Eagle Records",
      "count": 27,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 26
      },
      "user_artists": {
        "Nubis84": [
          "Emerson, Lake & Palmer"
        ],
        "sdecandelario": [
          "Alice Cooper"
        ]
      },
      "top_artists": [
        "Alice Cooper",
        "Emerson, Lake & Palmer"
      ],
      "top_albums": [
        "Alice Cooper - The Eyes Of Alice Cooper",
        "Alice Cooper - Dragontown",
        "Emerson, Lake & Palmer - Then & Now Cd 1"
      ]
    },
    {
      "name": "Columbia",
      "count": 26,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 24
      },
      "user_artists": {
        "Nubis84": [
          "Miles Davis"
        ],
        "sdecandelario": [
          "AC/DC",
          "Judas Priest",
          "Journey"
        ]
      },
      "top_artists": [
        "Judas Priest",
        "Journey",
        "AC/DC",
        "Miles Davis"
      ],
      "top_albums": [
        "Judas Priest - Stained Class",
        "Journey - The Essential Journey",
        "Judas Priest - Point of Entry",
        "AC/DC - Who Made Who",
        "Miles Davis - Get Up With It"
      ]
    },
    {
      "name": "Epic",
      "count": 26,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 25
      },
      "user_artists": {
        "Nubis84": [
          "Audioslave"
        ],
        "sdecandelario": [
          "Alice Cooper",
          "Kreator",
          "Rage Against the Machine"
        ]
      },
      "top_artists": [
        "Alice Cooper",
        "Audioslave",
        "Kreator",
        "Rage Against the Machine"
      ],
      "top_albums": [
        "Alice Cooper - Hey Stoopid",
        "Alice Cooper - Trash",
        "Audioslave - Audioslave",
        "Kreator - Coma of Souls",
        "Rage Against the Machine - Evil Empire"
      ]
    },
    {
      "name": "Zappa Records",
      "count": 24,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 23
      },
      "user_artists": {
        "Nubis84": [
          "Frank Zappa"
        ],
        "sdecandelario": [
          "Frank Zappa"
        ]
      },
      "top_artists": [
        "Frank Zappa"
      ],
      "top_albums": [
        "Frank Zappa - Absolutely Free",
        "Frank Zappa - Cruising With Ruben & the Jets",
        "Frank Zappa - We're Only in It for the Money"
      ]
    },
    {
      "name": "Capitol Records",
      "count": 24,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 22
      },
      "user_artists": {
        "Nubis84": [
          "Sparklehorse",
          "The Beatles"
        ],
        "sdecandelario": [
          "Alcatrazz",
          "Stryper",
          "Megadeth"
        ]
      },
      "top_artists": [
        "Alcatrazz",
        "Megadeth",
        "The Beatles",
        "Sparklehorse",
        "Stryper"
      ],
      "top_albums": [
        "Alcatrazz - Disturbing The Peace",
        "Megadeth - Cryptic Writings",
        "The Beatles - Anthology 2 - Disc 1",
        "Sparklehorse - Vivadixiesubmarinetransmissionplot",
        "Stryper - Against The Law"
      ]
    },
    {
      "name": "Reprise Records",
      "count": 15,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 11,
        "sdecandelario": 4
      },
      "user_artists": {
        "Nubis84": [
          "Mastodon"
        ],
        "sdecandelario": [
          "The Jimi Hendrix Experience"
        ]
      },
      "top_artists": [
        "Mastodon",
        "The Jimi Hendrix Experience"
      ],
      "top_albums": [
        "Mastodon - Blood Mountain",
        "Mastodon - Crack the Skye",
        "The Jimi Hendrix Experience - Are You Experienced?"
      ]
    },
    {
      "name": "Sanctuary Records",
      "count": 15,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 14
      },
      "user_artists": {
        "Nubis84": [
          "The Kinks"
        ],
        "sdecandelario": [
          "Bruce Dickinson",
          "Iron Maiden"
        ]
      },
      "top_artists": [
        "Bruce Dickinson",
        "Iron Maiden",
        "The Kinks"
      ],
      "top_albums": [
        "Bruce Dickinson - Tyranny of Souls",
        "Iron Maiden - No Prayer For The Dying",
        "The Kinks - The Ultimate Collection",
        "Iron Maiden - Brave New World"
      ]
    }
  ],
  "years": [
    {
      "name": "2010",
      "count": 109,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 12,
        "sdecandelario": 97
      },
      "user_artists": {
        "Nubis84": [
          "The Rolling Stones",
          "The Beatles"
        ],
        "sdecandelario": [
          "Accept",
          "Tierra Santa",
          "Bon Jovi",
          "Doro",
          "Sabaton",
          "Black Country Communion",
          "The Jimi Hendrix Experience",
          "Lordi"
        ]
      },
      "top_artists": [
        "Accept",
        "Doro",
        "Lordi",
        "Tierra Santa",
        "Black Country Communion",
        "Sabaton",
        "The Beatles",
        "The Rolling Stones",
        "The Jimi Hendrix Experience",
        "Bon Jovi"
      ],
      "top_albums": [
        "Accept - Blood of the Nations",
        "Doro - Calling the Wild",
        "Lordi - Babez for Breakfast",
        "Tierra Santa - Caminos De Fuego",
        "Black Country Communion - Black Country Communion",
        "Sabaton - Coat of Arms",
        "The Beatles - Alternative Hey Jude",
        "The Rolling Stones - Exile on Main Street",
        "The Jimi Hendrix Experience - Electric Ladyland",
        "Bon Jovi - Bon Jovi Greatest Hits - The Ultimate Collection"
      ]
    },
    {
      "name": "2009",
      "count": 46,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 8,
        "sdecandelario": 38
      },
      "user_artists": {
        "Nubis84": [
          "Emerson, Lake & Palmer",
          "Shadow Gallery",
          "Mastodon"
        ],
        "sdecandelario": [
          "Wolfmother",
          "Grave Digger",
          "Halford",
          "Axel Rudi Pell",
          "Fferyllt",
          "Abney Park",
          "Enuma Elish"
        ]
      },
      "top_artists": [
        "Halford",
        "Grave Digger",
        "Abney Park",
        "Mastodon",
        "Shadow Gallery",
        "Fferyllt",
        "Emerson, Lake & Palmer",
        "Axel Rudi Pell",
        "Wolfmother",
        "Enuma Elish"
      ],
      "top_albums": [
        "Halford - Halford III - Winter Songs",
        "Grave Digger - Ballads Of A Hangman",
        "Abney Park - Aether Shanties",
        "Mastodon - Crack the Skye",
        "Shadow Gallery - Digital Ghosts",
        "Fferyllt - Dance of Druids",
        "Emerson, Lake & Palmer - Flower Power",
        "Axel Rudi Pell - Best of - Anniversary Edition",
        "Wolfmother - Cosmic Egg",
        "Enuma Elish - A Shine Of Darkness"
      ]
    },
    {
      "name": "1997",
      "count": 40,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 36
      },
      "user_artists": {
        "Nubis84": [
          "Morphine",
          "Nina Simone"
        ],
        "sdecandelario": [
          "Kiss",
          "Bar√≥n Rojo",
          "Impellitteri",
          "Bruce Dickinson",
          "Rainbow",
          "HammerFall"
        ]
      },
      "top_artists": [
        "Impellitteri",
        "Bruce Dickinson",
        "Rainbow",
        "Bar√≥n Rojo",
        "Nina Simone",
        "Morphine",
        "HammerFall",
        "Kiss"
      ],
      "top_albums": [
        "Impellitteri - Eye of the Hurricane",
        "Bruce Dickinson - Accident of Birth",
        "Rainbow - Bent Out of Shape",
        "Bar√≥n Rojo - Arma Secreta",
        "Nina Simone - Blue for You",
        "Morphine - B-Sides and Otherwise",
        "HammerFall - Glory to the Brave",
        "Kiss - Destroyer"
      ]
    },
    {
      "name": "2005",
      "count": 38,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 36
      },
      "user_artists": {
        "Nubis84": [
          "4g (keith rowe + oren ambarchi)",
          "4G"
        ],
        "sdecandelario": [
          "Alice Cooper",
          "Masterplan",
          "HammerFall"
        ]
      },
      "top_artists": [
        "Alice Cooper",
        "Masterplan",
        "4g (keith rowe + oren ambarchi)",
        "4G",
        "HammerFall"
      ],
      "top_albums": [
        "Alice Cooper - Dirty Diamonds",
        "Masterplan - Aeronautics",
        "Alice Cooper - Alice Cooper Goes to Hell",
        "4g (keith rowe + oren ambarchi) - Cloud (2 of 2) [Erstwhile]",
        "4G - Cloud (1 of 2) [Erstwhile]",
        "HammerFall - Chapter V: Unbent, Unbowed, Unbroken"
      ]
    },
    {
      "name": "2007",
      "count": 36,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 34,
        "sdecandelario": 2
      },
      "user_artists": {
        "Nubis84": [
          "Fovea Hex",
          "Andrew Liles",
          "Tord Gustavsen Trio",
          "Quidam"
        ],
        "sdecandelario": [
          "Freedom Call",
          "Michael Schenker Group"
        ]
      },
      "top_artists": [
        "Tord Gustavsen Trio",
        "Fovea Hex",
        "Andrew Liles",
        "Quidam",
        "Freedom Call",
        "Michael Schenker Group"
      ],
      "top_albums": [
        "Tord Gustavsen Trio - Being There",
        "Fovea Hex - Allure",
        "Andrew Liles - Black Sheep",
        "Quidam - Alone Together",
        "Freedom Call - Dimensions",
        "Michael Schenker Group - Doctor, Doctor - The Kulick Sessions"
      ]
    },
    {
      "name": "1991",
      "count": 34,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 33
      },
      "user_artists": {
        "Nubis84": [
          "U2"
        ],
        "sdecandelario": [
          "Alice Cooper",
          "Alcatrazz",
          "Tank"
        ]
      },
      "top_artists": [
        "Alice Cooper",
        "Alcatrazz",
        "Tank",
        "U2"
      ],
      "top_albums": [
        "Alice Cooper - Hey Stoopid",
        "Alcatrazz - Disturbing The Peace",
        "Tank - Filth Hounds of Hades",
        "U2 - Achtung Baby"
      ]
    },
    {
      "name": "2008",
      "count": 33,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 7,
        "sdecandelario": 26
      },
      "user_artists": {
        "Nubis84": [
          "Radiohead"
        ],
        "sdecandelario": [
          "Mot√∂rhead",
          "AC/DC",
          "Twisted Sister",
          "Lordi",
          "Iced Earth",
          "Helloween"
        ]
      },
      "top_artists": [
        "Lordi",
        "AC/DC",
        "Radiohead",
        "Helloween",
        "Iced Earth",
        "Twisted Sister",
        "Mot√∂rhead"
      ],
      "top_albums": [
        "Lordi - Deadache",
        "AC/DC - Black Ice",
        "Radiohead - In Rainbows",
        "Helloween - Gambling with the Devil",
        "Iced Earth - Horror Show",
        "Twisted Sister - Come Out And Play",
        "Mot√∂rhead - Hell Bent Forever - a Tribute to Judas Priest"
      ]
    },
    {
      "name": "2000",
      "count": 33,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 6,
        "sdecandelario": 27
      },
      "user_artists": {
        "Nubis84": [
          "Smog",
          "Andreas Vollenweider",
          "The Sound",
          "Miles Davis"
        ],
        "sdecandelario": [
          "Alice Cooper",
          "Rage Against the Machine",
          "Impellitteri",
          "UFO"
        ]
      },
      "top_artists": [
        "Impellitteri",
        "Alice Cooper",
        "UFO",
        "Andreas Vollenweider",
        "Miles Davis",
        "The Sound",
        "Smog",
        "Rage Against the Machine"
      ],
      "top_albums": [
        "Impellitteri - Crunch",
        "Alice Cooper - Brutal Planet",
        "UFO - Covenant",
        "Andreas Vollenweider - Dance With Lion",
        "Miles Davis - Get Up With It",
        "The Sound - Dutch Radio Recordings, Vol. 2",
        "Smog - 08 - Dongs of Sevotion (2000)",
        "Rage Against the Machine - Evil Empire"
      ]
    },
    {
      "name": "1998",
      "count": 32,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 30
      },
      "user_artists": {
        "Nubis84": [
          "Elliott Smith"
        ],
        "sdecandelario": [
          "Alice Cooper",
          "Helloween",
          "Megadeth"
        ]
      },
      "top_artists": [
        "Alice Cooper",
        "Megadeth",
        "Elliott Smith",
        "Helloween"
      ],
      "top_albums": [
        "Alice Cooper - From the Inside",
        "Megadeth - Cryptic Writings",
        "Alice Cooper - DaDa",
        "Elliott Smith - Elliott Smith",
        "Helloween - Better Than Raw"
      ]
    },
    {
      "name": "2013",
      "count": 30,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 26
      },
      "user_artists": {
        "Nubis84": [
          "Emerson, Lake & Palmer",
          "The Rolling Stones"
        ],
        "sdecandelario": [
          "Doro",
          "Frank Zappa"
        ]
      },
      "top_artists": [
        "Frank Zappa",
        "Doro",
        "The Rolling Stones",
        "Emerson, Lake & Palmer"
      ],
      "top_albums": [
        "Frank Zappa - Freak Out!",
        "Doro - Fight",
        "The Rolling Stones - Beggars Banquet",
        "Emerson, Lake & Palmer - Brain Salad Surgery"
      ]
    },
    {
      "name": "1992",
      "count": 29,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 25
      },
      "user_artists": {
        "Nubis84": [
          "The Flaming Lips",
          "The Beatles",
          "New Fast Automatic Daffodils"
        ],
        "sdecandelario": [
          "Heaven's Gate",
          "Iron Maiden",
          "St Elmo's Fire",
          "Impellitteri"
        ]
      },
      "top_artists": [
        "Heaven's Gate",
        "Impellitteri",
        "Iron Maiden",
        "New Fast Automatic Daffodils",
        "The Flaming Lips",
        "The Beatles",
        "St Elmo's Fire"
      ],
      "top_albums": [
        "Impellitteri - Grin And Bear It",
        "Iron Maiden - Fear of the Dark",
        "Heaven's Gate - Hell For Sale!",
        "Heaven's Gate - Hell For Sale !",
        "New Fast Automatic Daffodils - Body Exit Mind",
        "The Flaming Lips - Hit to Death in the Future Head",
        "The Beatles - Help!",
        "St Elmo's Fire - Desperate Years"
      ]
    },
    {
      "name": "2001",
      "count": 26,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 24
      },
      "user_artists": {
        "Nubis84": [
          "Henry Fool"
        ],
        "sdecandelario": [
          "Alice Cooper",
          "Abney Park"
        ]
      },
      "top_artists": [
        "Alice Cooper",
        "Abney Park",
        "Henry Fool"
      ],
      "top_albums": [
        "Alice Cooper - Dragontown",
        "Abney Park - From Dreams or Angels",
        "Henry Fool - Henry Fool"
      ]
    },
    {
      "name": "1994",
      "count": 25,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 22
      },
      "user_artists": {
        "Nubis84": [
          "Portishead",
          "Guided by Voices"
        ],
        "sdecandelario": [
          "AC/DC",
          "Saxon",
          "Grave Digger",
          "Impellitteri"
        ]
      },
      "top_artists": [
        "Grave Digger",
        "Impellitteri",
        "Portishead",
        "AC/DC",
        "Guided by Voices",
        "Saxon"
      ],
      "top_albums": [
        "Grave Digger - Heavy Metal Breakdown",
        "Impellitteri - Answer to the Master",
        "Portishead - Dummy",
        "AC/DC - Highway to Hell",
        "Guided by Voices - Bee Thousand",
        "Saxon - Destiny"
      ]
    },
    {
      "name": "1995",
      "count": 24,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 21
      },
      "user_artists": {
        "Nubis84": [
          "Coltsfoot",
          "Lee Ranaldo"
        ],
        "sdecandelario": [
          "AC/DC",
          "Saxon",
          "Steve Vai",
          "Grave Digger"
        ]
      },
      "top_artists": [
        "Grave Digger",
        "AC/DC",
        "Coltsfoot",
        "Lee Ranaldo",
        "Saxon",
        "Steve Vai"
      ],
      "top_albums": [
        "Grave Digger - Heart of Darkness",
        "AC/DC - Ballbreaker",
        "Coltsfoot - A Winter Harvest",
        "Lee Ranaldo - East Jesus",
        "Saxon - Dogs of War",
        "Steve Vai - Alien Love Secrets"
      ]
    },
    {
      "name": "2011",
      "count": 21,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 19
      },
      "user_artists": {
        "Nubis84": [
          "The Flaming Lips"
        ],
        "sdecandelario": [
          "Alice Cooper"
        ]
      },
      "top_artists": [
        "Alice Cooper",
        "The Flaming Lips"
      ],
      "top_albums": [
        "Alice Cooper - Along Came a Spider",
        "Alice Cooper - Easy Action",
        "The Flaming Lips - Clouds Taste Metallic"
      ]
    },
    {
      "name": "2003",
      "count": 20,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 19
      },
      "user_artists": {
        "Nubis84": [
          "Ricardo Villalobos"
        ],
        "sdecandelario": [
          "Doro",
          "HammerFall"
        ]
      },
      "top_artists": [
        "Doro",
        "HammerFall",
        "Ricardo Villalobos"
      ],
      "top_albums": [
        "Doro - Doro",
        "HammerFall - Crimson Thunder",
        "Ricardo Villalobos - Alcachofa"
      ]
    },
    {
      "name": "2006",
      "count": 17,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 6,
        "sdecandelario": 11
      },
      "user_artists": {
        "Nubis84": [
          "Mastodon"
        ],
        "sdecandelario": [
          "Thyrfing",
          "Dio",
          "The Stooges"
        ]
      },
      "top_artists": [
        "Dio",
        "Mastodon",
        "The Stooges",
        "Thyrfing"
      ],
      "top_albums": [
        "Dio - Angry Machines",
        "Mastodon - Blood Mountain",
        "The Stooges - Forever Changing: The Golden Age Of Elektra Records 1963-1973",
        "Thyrfing - Farsotstider"
      ]
    },
    {
      "name": "1989",
      "count": 15,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 13
      },
      "user_artists": {
        "Nubis84": [
          "Andreas Vollenweider"
        ],
        "sdecandelario": [
          "Doro"
        ]
      },
      "top_artists": [
        "Doro",
        "Andreas Vollenweider"
      ],
      "top_albums": [
        "Doro - Force Majeure",
        "Andreas Vollenweider - Dancing With The Lion"
      ]
    },
    {
      "name": "2002",
      "count": 15,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 13
      },
      "user_artists": {
        "Nubis84": [
          "Banco De Gaia",
          "Audioslave"
        ],
        "sdecandelario": [
          "Halford"
        ]
      },
      "top_artists": [
        "Halford",
        "Banco De Gaia",
        "Audioslave"
      ],
      "top_albums": [
        "Halford - Crucible",
        "Banco De Gaia - 10 Years",
        "Audioslave - Audioslave"
      ]
    },
    {
      "name": "1987",
      "count": 12,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 10
      },
      "user_artists": {
        "Nubis84": [
          "Sonic Youth"
        ],
        "sdecandelario": [
          "Manowar",
          "Dio"
        ]
      },
      "top_artists": [
        "Dio",
        "Sonic Youth",
        "Manowar"
      ],
      "top_albums": [
        "Dio - Dream Evil",
        "Sonic Youth - Bad Moon Rising",
        "Manowar - Battle Hymns"
      ]
    },
    {
      "name": "2017",
      "count": 2,
      "users": [
        "sdecandelario",
        "Nubis84"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 1
      },
      "user_artists": {
        "Nubis84": [
          "Tom Waits"
        ],
        "sdecandelario": [
          "Iron Maiden"
        ]
      },
      "top_artists": [
        "Tom Waits",
        "Iron Maiden"
      ],
      "top_albums": [
        "Tom Waits - Alice",
        "Iron Maiden - Brave New World"
      ]
    }
  ],
  "novelties": {
    "nuevos": {
      "artists": [
        {
          "name": "Tank",
          "count": 63,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1295986547
        },
        {
          "name": "Alcatrazz",
          "count": 52,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1295359819
        },
        {
          "name": "Tord Gustavsen Trio",
          "count": 34,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295289875
        }
      ],
      "albums": [
        {
          "name": "Alcatrazz - The Best Of Alcatrazz",
          "artist": "Alcatrazz",
          "album": "The Best Of Alcatrazz",
          "count": 17,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1295359819
        },
        {
          "name": "Tord Gustavsen Trio - Being There",
          "artist": "Tord Gustavsen Trio",
          "album": "Being There",
          "count": 31,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295289875
        },
        {
          "name": "Halford - Resurrection",
          "artist": "Halford",
          "album": "Resurrection",
          "count": 15,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1295124939
        },
        {
          "name": "Sabaton - Metalizer",
          "artist": "Sabaton",
          "album": "Metalizer",
          "count": 23,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1293997098
        },
        {
          "name": "Impellitteri - The Very Best Of Impellitteri ÔΩûFaster Than The Speed Of Light",
          "artist": "Impellitteri",
          "album": "The Very Best Of Impellitteri ÔΩûFaster Than The Speed Of Light",
          "count": 19,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1293978135
        }
      ],
      "tracks": [
        {
          "name": "The Flaming Lips - The Abandoned Hospital Ship",
          "artist": "The Flaming Lips",
          "track": "The Abandoned Hospital Ship",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1296314355
        },
        {
          "name": "The Flaming Lips - Chrome Plated Suicide",
          "artist": "The Flaming Lips",
          "track": "Chrome Plated Suicide",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1296306287
        },
        {
          "name": "The Sound - Missiles",
          "artist": "The Sound",
          "track": "Missiles",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295541938
        },
        {
          "name": "The Rolling Stones - Street Fighting Man",
          "artist": "The Rolling Stones",
          "track": "Street Fighting Man",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295449112
        },
        {
          "name": "The Rolling Stones - Ruby Tuesday",
          "artist": "The Rolling Stones",
          "track": "Ruby Tuesday",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295443552
        },
        {
          "name": "Tord Gustavsen Trio - Wide Open",
          "artist": "Tord Gustavsen Trio",
          "track": "Wide Open",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295385870
        },
        {
          "name": "Tord Gustavsen Trio - Vesper",
          "artist": "Tord Gustavsen Trio",
          "track": "Vesper",
          "count": 4,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295313063
        },
        {
          "name": "Tord Gustavsen Trio - Sani",
          "artist": "Tord Gustavsen Trio",
          "track": "Sani",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295307843
        },
        {
          "name": "Alva Noto + Ryuichi Sakamoto - Avaol",
          "artist": "Alva Noto + Ryuichi Sakamoto",
          "track": "Avaol",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295305276
        },
        {
          "name": "Tord Gustavsen Trio - Being There",
          "artist": "Tord Gustavsen Trio",
          "track": "Being There",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295294782
        },
        {
          "name": "Tord Gustavsen Trio - Karmosin",
          "artist": "Tord Gustavsen Trio",
          "track": "Karmosin",
          "count": 4,
          "users": [
            "Nubis84"
          ],
          "first_date": 1295289875
        }
      ]
    },
    "nuevos_compartidos": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuario": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuarios": {
      "sdecandelario": {
        "artists": [
          {
            "name": "Frank Zappa",
            "period_count": 45,
            "total_count": 70,
            "coincident_users": [
              "Nubis84"
            ],
            "num_coincidences": 1,
            "first_date": 1294861961
          }
        ],
        "albums": [],
        "tracks": []
      }
    }
  },
  "period_label": "January 2011",
  "from_date": "2011-01-01",
  "to_date": "2011-01-31",
  "generated_at": "2025-11-21 13:27"
};
        const hasNovelties = stats.novelties !== undefined;

        // Funci√≥n para obtener novedades de usuario desde datos precalculados
        function getUserNovelties(user) {
            if (!stats.novelties || !stats.novelties.nuevos_para_usuarios) {
                return { artists: [], albums: [], tracks: [] };
            }

            return stats.novelties.nuevos_para_usuarios[user] || { artists: [], albums: [], tracks: [] };
        }

        // Funcionalidad del bot√≥n de usuario
        function initializeUserSelector() {
            const userButton = document.getElementById('userButton');
            const userModal = document.getElementById('userModal');
            const userModalClose = document.getElementById('userModalClose');
            const userOptions = document.getElementById('userOptions');

            // Cargar usuario guardado desde localStorage
            let selectedUser = localStorage.getItem('lastfm_selected_user') || '';

            // Llenar opciones de usuarios
            availableUsers.forEach(user => {
                const option = document.createElement('div');
                option.className = 'user-option';
                option.dataset.user = user;
                option.textContent = user;
                userOptions.appendChild(option);
            });

            // Marcar opci√≥n seleccionada
            updateSelectedUserOption(selectedUser);

            // Event listeners
            userButton.addEventListener('click', () => {
                userModal.style.display = 'block';
            });

            userModalClose.addEventListener('click', () => {
                userModal.style.display = 'none';
            });

            userModal.addEventListener('click', (e) => {
                if (e.target === userModal) {
                    userModal.style.display = 'none';
                }
            });

            userOptions.addEventListener('click', (e) => {
                if (e.target.classList.contains('user-option')) {
                    const user = e.target.dataset.user;
                    selectedUser = user;

                    // Guardar en localStorage
                    if (user) {
                        localStorage.setItem('lastfm_selected_user', user);
                    } else {
                        localStorage.removeItem('lastfm_selected_user');
                    }

                    updateSelectedUserOption(user);
                    userModal.style.display = 'none';
                    renderStats(); // Re-renderizar con nuevo usuario
                }
            });

            return selectedUser;
        }

        function updateSelectedUserOption(selectedUser) {
            const userOptions = document.getElementById('userOptions');
            userOptions.querySelectorAll('.user-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.user === selectedUser) {
                    option.classList.add('selected');
                }
            });
        }

        // Inicializar categor√≠as activas
        let activeCategories = new Set(['artists']); // Por defecto mostrar artistas
        let selectedUser = '';

        document.getElementById('dateRange').textContent = `${stats.from_date || ''} ‚Üí ${stats.to_date || ''}`;
        document.getElementById('totalScrobbles').textContent = stats.total_scrobbles || 0;
        document.getElementById('generatedAt').textContent = stats.generated_at || '';

        // Manejar filtros de categor√≠as
        const categoryFilters = document.querySelectorAll('.category-filter');
        categoryFilters.forEach(filter => {
            filter.addEventListener('click', () => {
                const category = filter.dataset.category;

                if (activeCategories.has(category)) {
                    activeCategories.delete(category);
                    filter.classList.remove('active');
                } else {
                    activeCategories.add(category);
                    filter.classList.add('active');
                }

                renderStats();
            });
        });

        function showArtistsPopup(itemName, category, user) {
            const item = stats[category].find(item => item.name === itemName);
            if (!item || !item.user_artists || !item.user_artists[user]) return;

            const artists = item.user_artists[user];

            // Crear overlay
            const overlay = document.createElement('div');
            overlay.className = 'popup-overlay';

            // Crear popup
            const popup = document.createElement('div');
            popup.className = 'artists-popup';

            const header = document.createElement('div');
            header.className = 'popup-header';

            const closeBtn = document.createElement('button');
            closeBtn.className = 'popup-close';
            closeBtn.innerHTML = '√ó';
            closeBtn.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            header.innerHTML = `Artistas de ${user} en "${itemName}"`;
            header.appendChild(closeBtn);

            const artistList = document.createElement('ul');
            artistList.className = 'artist-list';

            artists.forEach(artist => {
                const li = document.createElement('li');
                li.textContent = artist;
                artistList.appendChild(li);
            });

            popup.appendChild(header);
            popup.appendChild(artistList);

            // Cerrar al hacer click en overlay
            overlay.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            document.body.appendChild(overlay);
            document.body.appendChild(popup);
        }

        function createNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';

            if (selectedUser && item.users.includes(selectedUser)) {
                itemDiv.classList.add('highlighted');
            }

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Conteo de plays si existe
            if (item.count) {
                const countBadge = document.createElement('span');
                countBadge.className = 'badge';
                countBadge.textContent = `${item.count} plays`;
                itemMeta.appendChild(countBadge);
            }

            // Fecha de primer scrobble
            const date = new Date(item.first_date * 1000);
            const dateBadge = document.createElement('span');
            dateBadge.className = 'badge';
            dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
            itemMeta.appendChild(dateBadge);

            // Usuarios que lo han escuchado
            item.users.forEach(user => {
                const userBadge = document.createElement('span');
                userBadge.className = 'user-badge';
                if (user === selectedUser) {
                    userBadge.classList.add('highlighted-user');
                }
                userBadge.textContent = user;
                itemMeta.appendChild(userBadge);
            });

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function createUserNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';
            itemDiv.classList.add('highlighted'); // Siempre resaltado para el usuario

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Total de scrobbles del usuario para este elemento
            if (item.total_count) {
                const totalBadge = document.createElement('span');
                totalBadge.className = 'badge';
                totalBadge.style.background = '#cba6f7';
                totalBadge.style.color = '#1e1e2e';
                totalBadge.textContent = `${item.total_count} total plays`;
                itemMeta.appendChild(totalBadge);
            }

            // Scrobbles en este per√≠odo
            if (item.period_count) {
                const periodBadge = document.createElement('span');
                periodBadge.className = 'badge';
                periodBadge.textContent = `${item.period_count} plays per√≠odo`;
                itemMeta.appendChild(periodBadge);
            }

            // Fecha de primera vez del usuario (si est√° disponible)
            if (item.first_date || item.user_first_date) {
                const date = new Date((item.first_date || item.user_first_date) * 1000);
                const dateBadge = document.createElement('span');
                dateBadge.className = 'badge';
                dateBadge.style.background = '#a6e3a1';
                dateBadge.style.color = '#1e1e2e';
                dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
                itemMeta.appendChild(dateBadge);
            }

            // Usuarios que tambi√©n lo escucharon (coincidencias)
            if (item.coincident_users && item.coincident_users.length > 0) {
                item.coincident_users.forEach(user => {
                    const userBadge = document.createElement('span');
                    userBadge.className = 'user-badge';
                    userBadge.textContent = user;
                    itemMeta.appendChild(userBadge);
                });
            }

            // Informaci√≥n de coincidencias
            if (item.num_coincidences) {
                const coincidencesBadge = document.createElement('span');
                coincidencesBadge.className = 'badge';
                coincidencesBadge.style.background = '#f38ba8';
                coincidencesBadge.style.color = '#1e1e2e';
                coincidencesBadge.textContent = `${item.num_coincidences} coincidencias`;
                itemMeta.appendChild(coincidencesBadge);
            }

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function renderStats() {
            const container = document.getElementById('categoriesContainer');
            container.innerHTML = '';

            const categoryTitles = {
                artists: 'Artistas M√°s Escuchados',
                tracks: 'Canciones M√°s Escuchadas',
                albums: '√Ålbumes M√°s Escuchados',
                genres: 'G√©neros M√°s Escuchados',
                labels: 'Sellos M√°s Escuchados',
                years: 'A√±os M√°s Escuchados',
                novelties: 'Novedades'
            };

            let hasData = false;

            ['artists', 'tracks', 'albums', 'genres', 'labels', 'years', 'novelties'].forEach(categoryKey => {
                if (!activeCategories.has(categoryKey)) return;

                // Manejo especial para novedades
                if (categoryKey === 'novelties') {
                    if (!hasNovelties || !stats.novelties) return;

                    hasData = true;
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'category visible';
                    categoryDiv.dataset.category = categoryKey;

                    const title = document.createElement('h3');
                    title.textContent = categoryTitles[categoryKey];
                    categoryDiv.appendChild(title);

                    // NUEVOS PARA TODOS
                    const nuevosSection = document.createElement('div');
                    nuevosSection.className = 'novelty-section';

                    const nuevosTitle = document.createElement('h4');
                    nuevosTitle.textContent = 'üÜï Nuevos para todos';
                    nuevosSection.appendChild(nuevosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos';
                            subsection.appendChild(emptyDiv);
                        }

                        nuevosSection.appendChild(subsection);
                    });

                    categoryDiv.appendChild(nuevosSection);

                    // NUEVOS COMPARTIDOS
                    const compartidosSection = document.createElement('div');
                    compartidosSection.className = 'novelty-section';

                    const compartidosTitle = document.createElement('h4');
                    compartidosTitle.textContent = 'üë• Nuevos compartidos (50%+ del grupo)';
                    compartidosSection.appendChild(compartidosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos_compartidos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos compartidos';
                            subsection.appendChild(emptyDiv);
                        }

                        compartidosSection.appendChild(subsection);
                    });

                    // NUEVOS PARA USUARIO SELECCIONADO
                    if (selectedUser) {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = `üë§ Nuevos para ${selectedUser} (ya conocidos por el grupo)`;
                        usuarioSection.appendChild(usuarioTitle);

                        // Calcular novedades para el usuario
                        const userNovelties = getUserNovelties(selectedUser);

                        ['artists', 'albums', 'tracks'].forEach(type => {
                            const subsection = document.createElement('div');
                            subsection.className = 'novelty-subsection';

                            const subsectionTitle = document.createElement('h5');
                            subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                         type === 'albums' ? '√Ålbumes' : 'Canciones';
                            subsection.appendChild(subsectionTitle);

                            const items = userNovelties[type];
                            if (items && items.length > 0) {
                                items.forEach(item => {
                                    const itemDiv = createUserNoveltyItem(item, selectedUser);
                                    subsection.appendChild(itemDiv);
                                });
                            } else {
                                const emptyDiv = document.createElement('div');
                                emptyDiv.className = 'novelty-empty';
                                const typeText = type === 'artists' ? 'artistas' :
                                               type === 'albums' ? '√°lbumes' : 'canciones';
                                emptyDiv.textContent = items ?
                                    `No hay ${typeText} nuevos para ${selectedUser} con coincidencias en el per√≠odo` :
                                    'Calculando novedades del usuario...';
                                subsection.appendChild(emptyDiv);
                            }

                            usuarioSection.appendChild(subsection);
                        });

                        categoryDiv.appendChild(usuarioSection);
                    } else {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = 'üë§ Nuevos para usuario espec√≠fico';
                        usuarioSection.appendChild(usuarioTitle);

                        const infoDiv = document.createElement('div');
                        infoDiv.className = 'novelty-empty';
                        infoDiv.textContent = 'Selecciona un usuario para ver sus novedades personales';
                        usuarioSection.appendChild(infoDiv);

                        categoryDiv.appendChild(usuarioSection);
                    }
                    container.appendChild(categoryDiv);
                    return;
                }

                if (!stats[categoryKey] || stats[categoryKey].length === 0) return;

                hasData = true;
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category visible';
                categoryDiv.dataset.category = categoryKey;

                const title = document.createElement('h3');
                title.textContent = categoryTitles[categoryKey];
                categoryDiv.appendChild(title);

                stats[categoryKey].forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'item';

                    if (selectedUser && item.users.includes(selectedUser)) {
                        itemDiv.classList.add('highlighted');
                    }

                    // Hacer clickeable si es g√©nero, a√±o o sello y hay usuario seleccionado
                    const isClickableForUser = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                       selectedUser &&
                                       item.users.includes(selectedUser) &&
                                       item.user_artists &&
                                       item.user_artists[selectedUser];

                    // Hacer expandible si tiene informaci√≥n detallada
                    const isExpandable = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                         ((item.top_artists && item.top_artists.length > 0) ||
                                          (item.top_albums && item.top_albums.length > 0));

                    const itemName = document.createElement('div');
                    itemName.className = 'item-name';
                    itemName.textContent = item.name;

                    if (isExpandable) {
                        itemDiv.classList.add('expandable');
                    }

                    itemDiv.appendChild(itemName);

                    const itemMeta = document.createElement('div');
                    itemMeta.className = 'item-meta';

                    const countBadge = document.createElement('span');
                    countBadge.className = 'badge';
                    countBadge.textContent = `${item.count} plays`;
                    itemMeta.appendChild(countBadge);

                    item.users.sort((a, b) => (item.user_counts[b] || 0) - (item.user_counts[a] || 0));

                    item.users.forEach(user => {
                        const userBadge = document.createElement('span');
                        userBadge.className = 'user-badge';
                        if (user === selectedUser) {
                            userBadge.classList.add('highlighted-user');
                        }

                        const userScrobbles = item.user_counts[user] || 0;
                        userBadge.textContent = `${user} (${userScrobbles})`;

                        if (isClickableForUser && user === selectedUser) {
                            userBadge.style.cursor = 'pointer';
                            userBadge.addEventListener('click', (e) => {
                                e.stopPropagation();
                                showArtistsPopup(item.name, categoryKey, user);
                            });
                        }

                        itemMeta.appendChild(userBadge);
                    });

                    itemDiv.appendChild(itemMeta);

                    // Detalles expandibles
                    if (isExpandable) {
                        const detailsDiv = document.createElement('div');
                        detailsDiv.className = 'details';

                        if (item.top_artists && item.top_artists.length > 0) {
                            const artistSection = document.createElement('div');
                            artistSection.className = 'detail-section';

                            const artistTitle = document.createElement('div');
                            artistTitle.className = 'detail-title';
                            artistTitle.textContent = 'Top Artistas:';
                            artistSection.appendChild(artistTitle);

                            const artistList = document.createElement('div');
                            artistList.className = 'detail-list';

                            item.top_artists.slice(0, 10).forEach(artist => {
                                const artistItem = document.createElement('span');
                                artistItem.className = 'detail-item';
                                artistItem.textContent = artist;
                                artistList.appendChild(artistItem);
                            });

                            artistSection.appendChild(artistList);
                            detailsDiv.appendChild(artistSection);
                        }

                        if (item.top_albums && item.top_albums.length > 0) {
                            const albumSection = document.createElement('div');
                            albumSection.className = 'detail-section';

                            const albumTitle = document.createElement('div');
                            albumTitle.className = 'detail-title';
                            albumTitle.textContent = 'Top √Ålbumes:';
                            albumSection.appendChild(albumTitle);

                            const albumList = document.createElement('div');
                            albumList.className = 'detail-list';

                            item.top_albums.slice(0, 10).forEach(album => {
                                const albumItem = document.createElement('span');
                                albumItem.className = 'detail-item';
                                albumItem.textContent = album;
                                albumList.appendChild(albumItem);
                            });

                            albumSection.appendChild(albumList);
                            detailsDiv.appendChild(albumSection);
                        }

                        itemDiv.appendChild(detailsDiv);

                        itemDiv.addEventListener('click', (e) => {
                            if (e.target.classList.contains('user-badge') && e.target.style.cursor === 'pointer') {
                                return;
                            }

                            itemDiv.classList.toggle('expanded');
                            detailsDiv.classList.toggle('expanded');
                        });
                    }

                    categoryDiv.appendChild(itemDiv);
                });

                container.appendChild(categoryDiv);
            });

            if (!hasData) {
                const noDataDiv = document.createElement('div');
                noDataDiv.className = 'no-data';
                noDataDiv.textContent = 'No hay datos para mostrar con los filtros seleccionados.';
                container.appendChild(noDataDiv);
            }
        }

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            selectedUser = initializeUserSelector();
            renderStats();
        });
    </script>
</body>
</html>