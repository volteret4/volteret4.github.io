<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last.fm Stats - December 2008</title>
    <link rel="icon" type="image/png" href="images/music.png">
    <!-- Umami Analytics -->
    <script defer src="https://cloud.umami.is/script.js" data-website-id="5d84fd6c-0760-4a0c-a2d0-ffabb82179f5"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1e1e2e;
            color: #cdd6f4;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #181825;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: #1e1e2e;
            padding: 20px 30px;
            border-bottom: 2px solid #cba6f7;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 80px;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
        }

        h1 {
            font-size: 1.8em;
            color: #cba6f7;
            margin: 0;
            text-align: center;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .nav-button {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
        }

        .nav-button:hover {
            border-color: #cba6f7;
            background: #45475a;
            color: #cdd6f4;
        }

        .nav-button.current {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .user-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #181825;
            color: #1e1e2e;
            border: none;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .user-button:hover {
            background: #b4a3e8;
            transform: scale(1.1);
        }

        .user-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .user-modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #cba6f7;
        }

        .user-modal-header {
            color: #cba6f7;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }

        .user-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.5em;
            cursor: pointer;
            padding: 0;
        }

        .user-modal-close:hover {
            color: #cba6f7;
        }

        .user-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .user-option {
            padding: 12px 20px;
            background: #313244;
            border: 2px solid #45475a;
            border-radius: 8px;
            color: #cdd6f4;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .user-option:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .user-option.selected {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .controls {
            padding: 20px 30px;
            background: #1e1e2e;
            border-bottom: 1px solid #313244;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
        }

        .control-group {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
        }

        .control-group label {
            color: #cba6f7;
            font-weight: 600;
        }

        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-filter {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
        }

        .category-filter:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .category-filter.active {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .period-header {
            background: #1e1e2e;
            padding: 25px 30px;
            border-bottom: 2px solid #cba6f7;
        }

        .period-header h2 {
            color: #cba6f7;
            font-size: 1.5em;
            margin-bottom: 8px;
        }

        .period-info {
            color: #a6adc8;
            font-size: 0.9em;
        }

        .stats-container {
            padding: 30px;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        .category {
            background: #1e1e2e;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #313244;
            display: none;
        }

        .category.visible {
            display: block;
        }

        .category h3 {
            color: #cba6f7;
            font-size: 1.2em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #cba6f7;
        }

        .item {
            padding: 12px;
            margin-bottom: 10px;
            background: #181825;
            border-radius: 8px;
            border-left: 3px solid #45475a;
            transition: all 0.3s;
            cursor: pointer;
        }

        .item:hover {
            transform: translateX(5px);
            border-left-color: #cba6f7;
        }

        .item.highlighted {
            border-left-color: #cba6f7;
            background: #1a1826;
        }

        .item-name {
            font-weight: 600;
            color: #cdd6f4;
            font-size: 1em;
        }

        .item-meta {
            margin-top: 8px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .badge {
            background: #45475a;
            color: #cdd6f4;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .user-badge {
            background: #313244;
            color: #a6adc8;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75em;
            border: 1px solid #45475a;
        }

        .user-badge.highlighted-user {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .expandable {
            position: relative;
        }

        .expandable::after {
            content: '‚ñº';
            position: absolute;
            right: 12px;
            top: 12px;
            color: #6c7086;
            font-size: 0.8em;
        }

        .expandable.expanded::after {
            content: '‚ñ≤';
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 15px;
            margin-top: 10px;
        }

        .details.expanded {
            max-height: 400px;
            overflow-y: auto;
            border-top: 1px solid #313244;
            padding-top: 15px;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-title {
            color: #f9e2af;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .detail-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .detail-item {
            background: #181825;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            color: #a6adc8;
        }

        .novelty-section {
            margin-bottom: 25px;
        }

        .novelty-section h4 {
            color: #a6e3a1;
            font-size: 1.05em;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #45475a;
        }

        .novelty-subsection {
            margin-bottom: 20px;
        }

        .novelty-subsection h5 {
            color: #f9e2af;
            font-size: 0.95em;
            margin-bottom: 10px;
        }

        .novelty-empty {
            color: #6c7086;
            font-style: italic;
            text-align: center;
            padding: 20px;
        }

        .artists-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border: 2px solid #cba6f7;
            border-radius: 12px;
            padding: 20px;
            max-width: 500px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 999;
        }

        .popup-header {
            color: #cba6f7;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            border-bottom: 1px solid #313244;
            padding-bottom: 10px;
        }

        .popup-close {
            float: right;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.2em;
            cursor: pointer;
            padding: 0;
            margin-top: -5px;
        }

        .popup-close:hover {
            color: #cba6f7;
        }

        .artist-list {
            list-style: none;
            padding: 0;
        }

        .artist-list li {
            padding: 8px 12px;
            background: #181825;
            margin-bottom: 5px;
            border-radius: 6px;
            border-left: 3px solid #45475a;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #6c7086;
            font-style: italic;
        }

        .last-update {
            text-align: center;
            padding: 20px;
            color: #6c7086;
            font-size: 0.85em;
            border-top: 1px solid #313244;
        }

        @media (max-width: 768px) {
            .categories {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .category-filters {
                justify-content: center;
            }

            .artists-popup {
                max-width: 90%;
                max-height: 80%;
            }

            header {
                flex-direction: column;
                gap: 15px;
            }

            .nav-buttons {
                order: -1;
            }

            .user-button {
                order: 1;
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üìä RYM Hispano Estad√≠sticas</h1>
                <div class="nav-buttons">
                    <a href="esta-semana.html" class="nav-button">TEMPORALES</a>
                    <a href="index.html#grupo" class="nav-button">GRUPO</a>
                    <a href="index.html#about" class="nav-button">ACERCA DE</a>
                </div>
            </div>
            <button class="user-button" id="userButton">üë§</button>
        </header>

        <!-- Modal de selecci√≥n de usuario -->
        <div class="user-modal" id="userModal">
            <div class="user-modal-content">
                <button class="user-modal-close" id="userModalClose">√ó</button>
                <div class="user-modal-header">Seleccionar Usuario</div>
                <div class="user-options" id="userOptions">
                    <!-- Se llenar√°n din√°micamente -->
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">

                <div class="category-filters">
                    <button class="category-filter active" data-category="artists">Artistas</button><button class="category-filter " data-category="tracks">Canciones</button><button class="category-filter " data-category="albums">√Ålbumes</button><button class="category-filter " data-category="genres">G√©neros</button><button class="category-filter " data-category="labels">Sellos</button><button class="category-filter " data-category="years">A√±os</button><button class="category-filter " data-category="novelties">Novedades</button>
                </div>
            </div>
        </div>

        <div class="period-header">
            <h2>December 2008</h2>
            <p class="period-info">
                <span id="dateRange"></span> |
                <span id="totalScrobbles"></span> scrobbles totales
            </p>
        </div>

        <div class="stats-container">
            <div class="categories" id="categoriesContainer">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </div>

        <div class="last-update">
            Generado: <span id="generatedAt"></span>
        </div>
    </div>

    <script>
        // Usuarios reales del entorno LASTFM_USERS
        const availableUsers = ["alberto_gu", "EliasJ72", "Frikomid", "GabredMared", "Lonsonxd", "Nubis84", "paqueradejere", "Rocky_stereo", "sdecandelario"];
        const stats = {
  "total_scrobbles": 886,
  "artists": [
    {
      "name": "Iron Maiden",
      "count": 19,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 18
      }
    }
  ],
  "tracks": [],
  "albums": [],
  "genres": [
    {
      "name": "heavy metal",
      "count": 283,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 281
      },
      "user_artists": {
        "paqueradejere": [
          "Iron Maiden",
          "Kreator"
        ],
        "sdecandelario": [
          "Saxon",
          "Ozzy Osbourne",
          "Ratt",
          "Sebastian Bach",
          "Iron Maiden",
          "Thin Lizzy",
          "Tierra Santa",
          "UFO",
          "Saurom Lamderth",
          "Silent Force",
          "Judas Priest",
          "Rainbow",
          "LUJURIA",
          "Twisted Sister",
          "Iron Savior",
          "Sabaton",
          "Savage Circus",
          "Metal Church",
          "Megadeth",
          "M√∂tley Cr√ºe",
          "U.D.O.",
          "Scorpions",
          "Sphinx",
          "Helloween",
          "Nazareth",
          "W.A.S.P.",
          "Rage",
          "Van Halen"
        ]
      },
      "top_artists": [
        "Saxon",
        "Judas Priest",
        "M√∂tley Cr√ºe",
        "Rainbow",
        "Sphinx",
        "Scorpions",
        "Iron Maiden",
        "Saurom Lamderth",
        "Helloween",
        "Tierra Santa"
      ],
      "top_albums": [
        "Saxon - The Eagle Has Landed III",
        "Judas Priest - Painkiller",
        "Saxon - The Eagle Has Landed II",
        "Saurom Lamderth - Once Romances Desde Al-Andalus",
        "M√∂tley Cr√ºe - Saints of Los Angeles",
        "Sphinx - Paraiso en la eternidad",
        "Rainbow - Difficult to Cure",
        "Saxon - The Eagle Has Landed",
        "Judas Priest - Hell Bent for Leather",
        "Ozzy Osbourne - Blizzard of Ozz"
      ]
    },
    {
      "name": "hard rock",
      "count": 279,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 278
      },
      "user_artists": {
        "paqueradejere": [
          "Iron Maiden"
        ],
        "sdecandelario": [
          "Saxon",
          "Ozzy Osbourne",
          "Ratt",
          "Mr. Big",
          "Sebastian Bach",
          "Iron Maiden",
          "Thin Lizzy",
          "Rosendo",
          "Kiss",
          "Slash's Snakepit",
          "Led Zeppelin",
          "UFO",
          "Judas Priest",
          "Tigertailz",
          "Uriah Heep",
          "Rainbow",
          "Hanoi Rocks",
          "Twisted Sister",
          "The Who",
          "L.A. Guns",
          "Lynyrd Skynyrd",
          "ZZ Top",
          "M√∂tley Cr√ºe",
          "U.D.O.",
          "Whitesnake",
          "Scorpions",
          "Nazareth",
          "W.A.S.P.",
          "Van Halen",
          "Britny Fox"
        ]
      },
      "top_artists": [
        "Saxon",
        "Judas Priest",
        "M√∂tley Cr√ºe",
        "The Who",
        "Rainbow",
        "Scorpions",
        "Iron Maiden",
        "Led Zeppelin",
        "Kiss",
        "Ozzy Osbourne"
      ],
      "top_albums": [
        "Saxon - The Eagle Has Landed III",
        "The Who - Who's Next",
        "Judas Priest - Painkiller",
        "Saxon - The Eagle Has Landed II",
        "M√∂tley Cr√ºe - Saints of Los Angeles",
        "Kiss - Destroyer",
        "Rainbow - Difficult to Cure",
        "Saxon - The Eagle Has Landed",
        "Judas Priest - Hell Bent for Leather",
        "Ozzy Osbourne - Blizzard of Ozz"
      ]
    },
    {
      "name": "rock",
      "count": 235,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 7,
        "sdecandelario": 228
      },
      "user_artists": {
        "paqueradejere": [
          "Murder By Death",
          "Steely Dan",
          "Nine Inch Nails",
          "Seth Horan",
          "Iron Maiden",
          "Santana"
        ],
        "sdecandelario": [
          "Ozzy Osbourne",
          "Mr. Big",
          "Sebastian Bach",
          "Iron Maiden",
          "Thin Lizzy",
          "Rosendo",
          "Kiss",
          "Rammstein",
          "Slash's Snakepit",
          "The Rolling Stones",
          "Led Zeppelin",
          "UFO",
          "Rainbow",
          "Hanoi Rocks",
          "Twisted Sister",
          "The Who",
          "The Doors",
          "L.A. Guns",
          "Lynyrd Skynyrd",
          "ZZ Top",
          "M√∂tley Cr√ºe",
          "Max√Ømo Park",
          "Whitesnake",
          "Hard-Fi",
          "Scorpions",
          "Nazareth",
          "Van Halen",
          "Uriah Heep"
        ]
      },
      "top_artists": [
        "The Doors",
        "M√∂tley Cr√ºe",
        "The Who",
        "Rainbow",
        "Scorpions",
        "Iron Maiden",
        "Led Zeppelin",
        "Kiss",
        "Rammstein",
        "Ozzy Osbourne"
      ],
      "top_albums": [
        "The Doors - Live At The Matrix",
        "The Who - Who's Next",
        "M√∂tley Cr√ºe - Saints of Los Angeles",
        "Kiss - Destroyer",
        "Rainbow - Difficult to Cure",
        "Rammstein - Sehnsucht",
        "Ozzy Osbourne - Blizzard of Ozz",
        "Iron Maiden - Iron Maiden",
        "Scorpions - Blackout",
        "Iron Maiden - The Number of the Beast"
      ]
    },
    {
      "name": "metal",
      "count": 226,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 3,
        "sdecandelario": 223
      },
      "user_artists": {
        "paqueradejere": [
          "Iron Maiden",
          "Kreator",
          "Nightwish"
        ],
        "sdecandelario": [
          "Rhapsody",
          "Saxon",
          "Ozzy Osbourne",
          "Sebastian Bach",
          "Iron Maiden",
          "Tierra Santa",
          "Sonata Arctica",
          "Rammstein",
          "Silent Force",
          "Judas Priest",
          "Rainbow",
          "LUJURIA",
          "Iron Savior",
          "Sabaton",
          "Savage Circus",
          "Metal Church",
          "Megadeth",
          "U.D.O.",
          "Sphinx",
          "Helloween",
          "W.A.S.P.",
          "Rage"
        ]
      },
      "top_artists": [
        "Saxon",
        "Judas Priest",
        "Rainbow",
        "Sphinx",
        "Iron Maiden",
        "Rammstein",
        "Helloween",
        "Tierra Santa",
        "Ozzy Osbourne",
        "Sonata Arctica"
      ],
      "top_albums": [
        "Saxon - The Eagle Has Landed III",
        "Judas Priest - Painkiller",
        "Saxon - The Eagle Has Landed II",
        "Sphinx - Paraiso en la eternidad",
        "Rainbow - Difficult to Cure",
        "Saxon - The Eagle Has Landed",
        "Judas Priest - Hell Bent for Leather",
        "Rammstein - Sehnsucht",
        "Ozzy Osbourne - Blizzard of Ozz",
        "Sphinx - Renacer"
      ]
    },
    {
      "name": "classic rock",
      "count": 204,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 202
      },
      "user_artists": {
        "paqueradejere": [
          "Steely Dan",
          "Santana"
        ],
        "sdecandelario": [
          "Ozzy Osbourne",
          "Mr. Big",
          "Thin Lizzy",
          "Kiss",
          "Slash's Snakepit",
          "The Rolling Stones",
          "Led Zeppelin",
          "UFO",
          "Judas Priest",
          "Rainbow",
          "The Who",
          "The Doors",
          "Lynyrd Skynyrd",
          "ZZ Top",
          "Whitesnake",
          "Scorpions",
          "Nazareth",
          "Van Halen",
          "Uriah Heep"
        ]
      },
      "top_artists": [
        "The Doors",
        "Judas Priest",
        "The Who",
        "Rainbow",
        "Scorpions",
        "Led Zeppelin",
        "Kiss",
        "Ozzy Osbourne",
        "Santana",
        "Steely Dan"
      ],
      "top_albums": [
        "The Doors - Live At The Matrix",
        "The Who - Who's Next",
        "Judas Priest - Painkiller",
        "Kiss - Destroyer",
        "Rainbow - Difficult to Cure",
        "Judas Priest - Hell Bent for Leather",
        "Ozzy Osbourne - Blizzard of Ozz",
        "Judas Priest - Sad Wings of Destiny",
        "Scorpions - Blackout",
        "Rainbow - Rising"
      ]
    },
    {
      "name": "NWOBHM",
      "count": 120,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 119
      },
      "user_artists": {
        "paqueradejere": [
          "Iron Maiden"
        ],
        "sdecandelario": [
          "Iron Maiden",
          "Saxon",
          "Judas Priest"
        ]
      },
      "top_artists": [
        "Saxon",
        "Judas Priest",
        "Iron Maiden"
      ],
      "top_albums": [
        "Saxon - The Eagle Has Landed III",
        "Judas Priest - Painkiller",
        "Saxon - The Eagle Has Landed II",
        "Saxon - The Eagle Has Landed",
        "Judas Priest - Hell Bent for Leather",
        "Judas Priest - Sad Wings of Destiny",
        "Iron Maiden - Iron Maiden",
        "Iron Maiden - The Number of the Beast",
        "Iron Maiden - Powerslave",
        "Saxon - Denim And Leather"
      ]
    },
    {
      "name": "Power metal",
      "count": 69,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 68
      },
      "user_artists": {
        "paqueradejere": [
          "Nightwish"
        ],
        "sdecandelario": [
          "Rhapsody",
          "U.D.O.",
          "Iron Savior",
          "Sabaton",
          "Savage Circus",
          "Sphinx",
          "Rage",
          "Tierra Santa",
          "Helloween",
          "Sonata Arctica",
          "Saurom Lamderth",
          "Metal Church",
          "Silent Force"
        ]
      },
      "top_artists": [
        "Sphinx",
        "Saurom Lamderth",
        "Helloween",
        "Tierra Santa",
        "Sonata Arctica",
        "Nightwish",
        "Savage Circus",
        "U.D.O.",
        "Silent Force",
        "Sabaton"
      ],
      "top_albums": [
        "Saurom Lamderth - Once Romances Desde Al-Andalus",
        "Sphinx - Paraiso en la eternidad",
        "Sphinx - Renacer",
        "Helloween - Keeper Of The Seven Keys Part. I",
        "Tierra Santa - Medieval",
        "Tierra Santa - Sangre de Reyes",
        "Sonata Arctica - Silence",
        "Helloween - Keeper Of The Seven Keys Part. II",
        "Nightwish - Oceanborn",
        "Savage Circus - Dreamland Manor"
      ]
    },
    {
      "name": "psychedelic",
      "count": 43,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 42
      },
      "user_artists": {
        "paqueradejere": [
          "Soft Machine"
        ],
        "sdecandelario": [
          "The Doors"
        ]
      },
      "top_artists": [
        "The Doors",
        "Soft Machine"
      ],
      "top_albums": [
        "The Doors - Live At The Matrix",
        "Soft Machine - Third"
      ]
    },
    {
      "name": "spanish",
      "count": 41,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 12,
        "sdecandelario": 29
      },
      "user_artists": {
        "paqueradejere": [
          "Zulu 9.30",
          "Violadores del Verso",
          "La Kinky Beat",
          "Vicente Amigo",
          "Muchachito Bombo Infierno",
          "Paco de Luc√≠a",
          "Lendakaris Muertos",
          "Ottmar Liebert & Luna Negra",
          "M√°rtires Del Comp√°s",
          "Kiko Veneno"
        ],
        "sdecandelario": [
          "Rosendo",
          "LUJURIA",
          "Saurom Lamderth",
          "Tierra Santa"
        ]
      },
      "top_artists": [
        "Saurom Lamderth",
        "Tierra Santa",
        "Violadores del Verso",
        "Ottmar Liebert & Luna Negra",
        "Vicente Amigo",
        "Zulu 9.30",
        "La Kinky Beat",
        "Muchachito Bombo Infierno",
        "M√°rtires Del Comp√°s",
        "Lendakaris Muertos"
      ],
      "top_albums": [
        "Saurom Lamderth - Once Romances Desde Al-Andalus",
        "Tierra Santa - Medieval",
        "Tierra Santa - Sangre de Reyes",
        "Violadores del Verso - Genios",
        "Ottmar Liebert & Luna Negra - La Semana",
        "Vicente Amigo - Poeta",
        "Zulu 9.30 - undefined",
        "La Kinky Beat - Made in Barna",
        "Muchachito Bombo Infierno - Vamos que nos vamos",
        "M√°rtires Del Comp√°s - Al Comp√°s De La Llaga Dolorida"
      ]
    },
    {
      "name": "german",
      "count": 27,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 26
      },
      "user_artists": {
        "paqueradejere": [
          "Kreator"
        ],
        "sdecandelario": [
          "Rammstein",
          "Iron Savior",
          "U.D.O.",
          "Savage Circus",
          "Helloween",
          "Rage"
        ]
      },
      "top_artists": [
        "Rammstein",
        "Helloween",
        "Kreator",
        "Savage Circus",
        "U.D.O.",
        "Iron Savior",
        "Rage"
      ],
      "top_albums": [
        "Rammstein - Sehnsucht",
        "Helloween - Keeper Of The Seven Keys Part. I",
        "Helloween - Keeper Of The Seven Keys Part. II",
        "Kreator - Violent Revolution",
        "Savage Circus - Dreamland Manor",
        "Rammstein - Reise Reise",
        "Helloween - Better Than Raw",
        "Rage - Welcome To The Other Side"
      ]
    },
    {
      "name": "symphonic metal",
      "count": 25,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 24
      },
      "user_artists": {
        "paqueradejere": [
          "Nightwish"
        ],
        "sdecandelario": [
          "Sonata Arctica",
          "Rhapsody",
          "Sphinx",
          "Silent Force"
        ]
      },
      "top_artists": [
        "Sphinx",
        "Sonata Arctica",
        "Nightwish",
        "Silent Force",
        "Rhapsody"
      ],
      "top_albums": [
        "Sphinx - Paraiso en la eternidad",
        "Sphinx - Renacer",
        "Sonata Arctica - Silence",
        "Nightwish - Oceanborn",
        "Silent Force - Worlds Apart",
        "Rhapsody - Dawn of Victory"
      ]
    },
    {
      "name": "Progressive rock",
      "count": 21,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 7,
        "sdecandelario": 14
      },
      "user_artists": {
        "paqueradejere": [
          "Return to Forever",
          "Soft Machine",
          "Niacin",
          "Cab"
        ],
        "sdecandelario": [
          "UFO",
          "Led Zeppelin",
          "Uriah Heep"
        ]
      },
      "top_artists": [
        "Led Zeppelin",
        "Return to Forever",
        "Niacin",
        "Cab",
        "Soft Machine",
        "UFO",
        "Uriah Heep"
      ],
      "top_albums": [
        "Led Zeppelin - Led Zeppelin I",
        "Led Zeppelin - Led Zeppelin IV",
        "Return to Forever - Where Have I Known You Before",
        "Led Zeppelin - Physical Graffiti",
        "Cab - Cab 4",
        "Niacin - Organik",
        "Soft Machine - Third",
        "Niacin - Deep",
        "UFO - Phenomenon / Force It",
        "Uriah Heep - Easy Livin'   The Ultimate Collection"
      ]
    },
    {
      "name": "70s",
      "count": 16,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 15
      },
      "user_artists": {
        "paqueradejere": [
          "Steely Dan"
        ],
        "sdecandelario": [
          "Nazareth",
          "Led Zeppelin",
          "Lynyrd Skynyrd",
          "Uriah Heep"
        ]
      },
      "top_artists": [
        "Led Zeppelin",
        "Steely Dan",
        "Lynyrd Skynyrd",
        "Uriah Heep",
        "Nazareth"
      ],
      "top_albums": [
        "Led Zeppelin - Led Zeppelin I",
        "Led Zeppelin - Led Zeppelin IV",
        "Led Zeppelin - Physical Graffiti",
        "Steely Dan - Two Against Nature",
        "Lynyrd Skynyrd - Lyve",
        "Uriah Heep - Easy Livin'   The Ultimate Collection",
        "Nazareth - Razamanaz"
      ]
    },
    {
      "name": "industrial",
      "count": 14,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 3,
        "sdecandelario": 11
      },
      "user_artists": {
        "paqueradejere": [
          "Nine Inch Nails",
          "Emilie Autumn"
        ],
        "sdecandelario": [
          "Rammstein"
        ]
      },
      "top_artists": [
        "Rammstein",
        "Nine Inch Nails",
        "Emilie Autumn"
      ],
      "top_albums": [
        "Rammstein - Sehnsucht",
        "Emilie Autumn - Laced/Unlaced (Double Disc)",
        "Nine Inch Nails - The Fragile (Left)",
        "Nine Inch Nails - Ghosts I-IV",
        "Rammstein - Reise Reise"
      ]
    },
    {
      "name": "alternative",
      "count": 8,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 6,
        "sdecandelario": 2
      },
      "user_artists": {
        "paqueradejere": [
          "Murder By Death",
          "The Cat Empire",
          "Nine Inch Nails",
          "Emilie Autumn",
          "Mogwai"
        ],
        "sdecandelario": [
          "Hard-Fi",
          "Max√Ømo Park"
        ]
      },
      "top_artists": [
        "Nine Inch Nails",
        "Emilie Autumn",
        "Murder By Death",
        "Mogwai",
        "The Cat Empire",
        "Hard-Fi",
        "Max√Ømo Park"
      ],
      "top_albums": [
        "Emilie Autumn - Laced/Unlaced (Double Disc)",
        "Murder By Death - Like The Exorcist, But More Breakdancing",
        "Nine Inch Nails - The Fragile (Left)",
        "Mogwai - Mr. Beast",
        "Nine Inch Nails - Ghosts I-IV",
        "The Cat Empire - The Cat Empire",
        "Hard-Fi - Living For The Weekend (3 Track)",
        "Max√Ømo Park - A Certain Trigger"
      ]
    },
    {
      "name": "indie",
      "count": 7,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 5,
        "sdecandelario": 2
      },
      "user_artists": {
        "paqueradejere": [
          "Murder By Death",
          "The Album Leaf",
          "Islands",
          "Kaki King",
          "Mogwai"
        ],
        "sdecandelario": [
          "Hard-Fi",
          "Max√Ømo Park"
        ]
      },
      "top_artists": [
        "Murder By Death",
        "Islands",
        "The Album Leaf",
        "Mogwai",
        "Kaki King",
        "Hard-Fi",
        "Max√Ømo Park"
      ],
      "top_albums": [
        "Murder By Death - Like The Exorcist, But More Breakdancing",
        "Islands - Return to the Sea",
        "The Album Leaf - undefined",
        "Mogwai - Mr. Beast",
        "Kaki King - undefined",
        "Hard-Fi - Living For The Weekend (3 Track)",
        "Max√Ømo Park - A Certain Trigger"
      ]
    }
  ],
  "labels": [
    {
      "name": "Polydor",
      "count": 56,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 3,
        "sdecandelario": 53
      },
      "user_artists": {
        "paqueradejere": [
          "Return to Forever"
        ],
        "sdecandelario": [
          "Rainbow",
          "The Who"
        ]
      },
      "top_artists": [
        "The Who",
        "Rainbow",
        "Return to Forever"
      ],
      "top_albums": [
        "The Who - Who's Next",
        "Rainbow - Difficult to Cure",
        "Rainbow - Rising",
        "Return to Forever - Where Have I Known You Before",
        "Rainbow - Straight Between the Eyes",
        "Rainbow - Long Live Rock 'n' Roll",
        "Rainbow - Ritchie Blackmore's Rainbow"
      ]
    },
    {
      "name": "Columbia",
      "count": 39,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 8,
        "sdecandelario": 31
      },
      "user_artists": {
        "paqueradejere": [
          "B√©la Fleck and the Flecktones",
          "Miles Davis",
          "Tower of Power",
          "Al Di Meola",
          "Santana"
        ],
        "sdecandelario": [
          "Judas Priest"
        ]
      },
      "top_artists": [
        "Judas Priest",
        "B√©la Fleck and the Flecktones",
        "Miles Davis",
        "Santana",
        "Al Di Meola",
        "Tower of Power"
      ],
      "top_albums": [
        "Judas Priest - Painkiller",
        "Judas Priest - Hell Bent for Leather",
        "B√©la Fleck and the Flecktones - Outbound",
        "Miles Davis - Kind of Blue",
        "Santana - Greatest Hits",
        "B√©la Fleck and the Flecktones - The Hidden Land",
        "Al Di Meola - Casino",
        "Tower of Power - Ain'T Nothin' Stoppin' Us Now"
      ]
    },
    {
      "name": "BMG",
      "count": 29,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 28
      },
      "user_artists": {
        "paqueradejere": [
          "The Brecker Brothers"
        ],
        "sdecandelario": [
          "Rage",
          "Guns N' Roses"
        ]
      },
      "top_artists": [
        "Guns N' Roses",
        "The Brecker Brothers",
        "Rage"
      ],
      "top_albums": [
        "Guns N' Roses - Use Your Illusion I",
        "The Brecker Brothers - The Brecker Bros. Collection, Volume 1",
        "Rage - Welcome To The Other Side"
      ]
    },
    {
      "name": "Virgin",
      "count": 28,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 27
      },
      "user_artists": {
        "paqueradejere": [
          "The Cat Empire"
        ],
        "sdecandelario": [
          "Saxon",
          "Blind Guardian"
        ]
      },
      "top_artists": [
        "Saxon",
        "Blind Guardian",
        "The Cat Empire"
      ],
      "top_albums": [
        "Saxon - The Eagle Has Landed II",
        "Blind Guardian - Follow the Blind",
        "The Cat Empire - The Cat Empire"
      ]
    },
    {
      "name": "Epic",
      "count": 23,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 5,
        "sdecandelario": 18
      },
      "user_artists": {
        "paqueradejere": [
          "Ottmar Liebert & Luna Negra",
          "Stanley Clarke",
          "Jaco Pastorius"
        ],
        "sdecandelario": [
          "Suicidal Tendencies",
          "AC/DC",
          "Ozzy Osbourne"
        ]
      },
      "top_artists": [
        "Ozzy Osbourne",
        "AC/DC",
        "Jaco Pastorius",
        "Stanley Clarke",
        "Ottmar Liebert & Luna Negra",
        "Suicidal Tendencies"
      ],
      "top_albums": [
        "Ozzy Osbourne - Blizzard of Ozz",
        "AC/DC - High Voltage",
        "Jaco Pastorius - Jaco Pastorius",
        "Stanley Clarke - East River Drive",
        "Ottmar Liebert & Luna Negra - ¬°Viva!",
        "Suicidal Tendencies - The Art Of Rebellion"
      ]
    },
    {
      "name": "Nuclear Blast",
      "count": 20,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 19
      },
      "user_artists": {
        "paqueradejere": [
          "Kreator"
        ],
        "sdecandelario": [
          "Accept",
          "Blind Guardian"
        ]
      },
      "top_artists": [
        "Accept",
        "Blind Guardian",
        "Kreator"
      ],
      "top_albums": [
        "Accept - Restless and Wild",
        "Blind Guardian - Battalions of Fear",
        "Kreator - Violent Revolution"
      ]
    },
    {
      "name": "EMI",
      "count": 13,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 12
      },
      "user_artists": {
        "paqueradejere": [
          "Iron Maiden"
        ],
        "sdecandelario": [
          "Iron Maiden",
          "Deep Purple",
          "AC/DC"
        ]
      },
      "top_artists": [
        "Iron Maiden",
        "Deep Purple",
        "AC/DC"
      ],
      "top_albums": [
        "Iron Maiden - Iron Maiden",
        "Iron Maiden - Powerslave",
        "Deep Purple - Deepest Purple: The Very Best of Deep Purple",
        "Iron Maiden - Edward the Great",
        "AC/DC - Let There Be Rock"
      ]
    },
    {
      "name": "Spinefarm Records",
      "count": 10,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 9
      },
      "user_artists": {
        "paqueradejere": [
          "Nightwish"
        ],
        "sdecandelario": [
          "Children of Bodom"
        ]
      },
      "top_artists": [
        "Children of Bodom",
        "Nightwish"
      ],
      "top_albums": [
        "Children of Bodom - Blooddrunk",
        "Nightwish - Oceanborn"
      ]
    },
    {
      "name": "Atlantic",
      "count": 7,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 6
      },
      "user_artists": {
        "paqueradejere": [
          "Billy Cobham"
        ],
        "sdecandelario": [
          "Mr. Big",
          "Twisted Sister",
          "Led Zeppelin"
        ]
      },
      "top_artists": [
        "Led Zeppelin",
        "Billy Cobham",
        "Mr. Big",
        "Twisted Sister"
      ],
      "top_albums": [
        "Led Zeppelin - Led Zeppelin IV",
        "Billy Cobham - The Best Of",
        "Mr. Big - Hey Man",
        "Twisted Sister - Stay Hungry"
      ]
    },
    {
      "name": "Warner Bros. Records",
      "count": 3,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 2
      },
      "user_artists": {
        "paqueradejere": [
          "Joshua Redman"
        ],
        "sdecandelario": [
          "Van Halen",
          "ZZ Top"
        ]
      },
      "top_artists": [
        "Joshua Redman",
        "ZZ Top",
        "Van Halen"
      ],
      "top_albums": [
        "Joshua Redman - Elastic",
        "ZZ Top - Greatest Hits",
        "Van Halen - Best of Van Halen, Volume 1"
      ]
    }
  ],
  "years": [
    {
      "name": "2004",
      "count": 29,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 3,
        "sdecandelario": 26
      },
      "user_artists": {
        "paqueradejere": [
          "Herbie Hancock",
          "Ahmad Jamal",
          "The Kristin Korb/Todd Johnson Trio"
        ],
        "sdecandelario": [
          "Megadeth",
          "Guns N' Roses",
          "Gene Simmons"
        ]
      },
      "top_artists": [
        "Guns N' Roses",
        "Ahmad Jamal",
        "Herbie Hancock",
        "The Kristin Korb/Todd Johnson Trio",
        "Megadeth",
        "Gene Simmons"
      ],
      "top_albums": [
        "Guns N' Roses - Appetite for Destruction",
        "Ahmad Jamal - Chamber Music Of The New Jazz",
        "Herbie Hancock - Head Hunters",
        "The Kristin Korb/Todd Johnson Trio - Get Happy",
        "Megadeth - Countdown to Extinction",
        "Gene Simmons - Asshole"
      ]
    },
    {
      "name": "2013",
      "count": 23,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 4,
        "sdecandelario": 19
      },
      "user_artists": {
        "paqueradejere": [
          "Weather Report"
        ],
        "sdecandelario": [
          "Rainbow",
          "Anthrax"
        ]
      },
      "top_artists": [
        "Rainbow",
        "Anthrax",
        "Weather Report"
      ],
      "top_albums": [
        "Rainbow - Difficult to Cure",
        "Anthrax - Among the Living",
        "Weather Report - Heavy Weather"
      ]
    },
    {
      "name": "2002",
      "count": 23,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 5,
        "sdecandelario": 18
      },
      "user_artists": {
        "paqueradejere": [
          "Billy Cobham",
          "Do Make Say Think",
          "Joe Zawinul",
          "Joshua Redman"
        ],
        "sdecandelario": [
          "Iron Maiden",
          "Blind Guardian",
          "Ozzy Osbourne"
        ]
      },
      "top_artists": [
        "Ozzy Osbourne",
        "Blind Guardian",
        "Billy Cobham",
        "Do Make Say Think",
        "Joshua Redman",
        "Joe Zawinul",
        "Iron Maiden"
      ],
      "top_albums": [
        "Ozzy Osbourne - Blizzard of Ozz",
        "Blind Guardian - A Night at the Opera",
        "Billy Cobham - Drum'n'voice: All That Groove",
        "Do Make Say Think - & Yet & Yet",
        "Joshua Redman - Elastic",
        "Joe Zawinul - Faces & Places",
        "Iron Maiden - Edward the Great"
      ]
    },
    {
      "name": "1991",
      "count": 13,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 11
      },
      "user_artists": {
        "paqueradejere": [
          "The Brecker Brothers",
          "Chick Corea Elektric Band"
        ],
        "sdecandelario": [
          "Blind Guardian",
          "Thin Lizzy"
        ]
      },
      "top_artists": [
        "Blind Guardian",
        "The Brecker Brothers",
        "Chick Corea Elektric Band",
        "Thin Lizzy"
      ],
      "top_albums": [
        "Blind Guardian - Follow the Blind",
        "The Brecker Brothers - Brecker Bros.",
        "Chick Corea Elektric Band - Beneath The Mask",
        "Thin Lizzy - Dedication"
      ]
    },
    {
      "name": "2001",
      "count": 12,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 10
      },
      "user_artists": {
        "paqueradejere": [
          "Herbie Hancock",
          "Daktaris"
        ],
        "sdecandelario": [
          "Judas Priest"
        ]
      },
      "top_artists": [
        "Judas Priest",
        "Daktaris",
        "Herbie Hancock"
      ],
      "top_albums": [
        "Judas Priest - Hell Bent for Leather",
        "Daktaris - Afrobeat ... No Go Die !",
        "Herbie Hancock - Future 2 Future"
      ]
    },
    {
      "name": "1997",
      "count": 12,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 11
      },
      "user_artists": {
        "paqueradejere": [
          "NOVAMENCO"
        ],
        "sdecandelario": [
          "Kiss"
        ]
      },
      "top_artists": [
        "Kiss",
        "NOVAMENCO"
      ],
      "top_albums": [
        "Kiss - Destroyer",
        "NOVAMENCO - Gypsy Fusion"
      ]
    },
    {
      "name": "2018",
      "count": 11,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 10
      },
      "user_artists": {
        "paqueradejere": [
          "Propellerheads"
        ],
        "sdecandelario": [
          "Def Leppard",
          "Blind Guardian"
        ]
      },
      "top_artists": [
        "Blind Guardian",
        "Propellerheads",
        "Def Leppard"
      ],
      "top_albums": [
        "Blind Guardian - Battalions of Fear",
        "Propellerheads - Decksandrumsandrockandroll",
        "Def Leppard - Hysteria"
      ]
    },
    {
      "name": "2008",
      "count": 10,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 9
      },
      "user_artists": {
        "paqueradejere": [
          "Nine Inch Nails"
        ],
        "sdecandelario": [
          "Children of Bodom"
        ]
      },
      "top_artists": [
        "Children of Bodom",
        "Nine Inch Nails"
      ],
      "top_albums": [
        "Children of Bodom - Blooddrunk",
        "Nine Inch Nails - Ghosts I-IV"
      ]
    },
    {
      "name": "1995",
      "count": 10,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 8
      },
      "user_artists": {
        "paqueradejere": [
          "Strunz & Farah",
          "Shahin & Sepehr"
        ],
        "sdecandelario": [
          "Rosendo",
          "AC/DC"
        ]
      },
      "top_artists": [
        "AC/DC",
        "Shahin & Sepehr",
        "Strunz & Farah",
        "Rosendo"
      ],
      "top_albums": [
        "AC/DC - Ballbreaker",
        "Shahin & Sepehr - E",
        "Strunz & Farah - Heat of the Sun",
        "Rosendo - Grandes Exitos"
      ]
    },
    {
      "name": "2003",
      "count": 9,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 8,
        "sdecandelario": 1
      },
      "user_artists": {
        "paqueradejere": [
          "Dennis Chambers",
          "Cab",
          "Hiromi",
          "Benise",
          "Tony Allen",
          "Miguel de la Bastide",
          "Broken Social Scene"
        ],
        "sdecandelario": [
          "Uriah Heep"
        ]
      },
      "top_artists": [
        "Miguel de la Bastide",
        "Tony Allen",
        "Dennis Chambers",
        "Hiromi",
        "Broken Social Scene",
        "Cab",
        "Benise",
        "Uriah Heep"
      ],
      "top_albums": [
        "Miguel de la Bastide - Best Of Narada New Flamenco Guitar",
        "Tony Allen - Home Cooking",
        "Dennis Chambers - Front Page",
        "Hiromi - Another Mind",
        "Broken Social Scene - Feel Good Lost",
        "Cab - Cab 4",
        "Benise - Carnaval",
        "Uriah Heep - Easy Livin'   The Ultimate Collection"
      ]
    },
    {
      "name": "2007",
      "count": 8,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 6,
        "sdecandelario": 2
      },
      "user_artists": {
        "paqueradejere": [
          "Seth Horan",
          "As I Lay Dying",
          "Ruth Tafebe And The Afrorockerz",
          "The Souljazz Orchestra",
          "Felix da Housecat",
          "Aiff"
        ],
        "sdecandelario": [
          "Sebastian Bach",
          "Britny Fox"
        ]
      },
      "top_artists": [
        "Aiff",
        "The Souljazz Orchestra",
        "Ruth Tafebe And The Afrorockerz",
        "As I Lay Dying",
        "Seth Horan",
        "Felix da Housecat",
        "Sebastian Bach",
        "Britny Fox"
      ],
      "top_albums": [
        "Aiff - Afro Soul System",
        "The Souljazz Orchestra - Freedom No Go Die",
        "Ruth Tafebe And The Afrorockerz - Holy Warrior",
        "As I Lay Dying - An Ocean Between Us",
        "Seth Horan - Happenstance",
        "Felix da Housecat - Bugged Out! Classics",
        "Sebastian Bach - Angel Down",
        "Britny Fox - Britny Fox"
      ]
    },
    {
      "name": "2006",
      "count": 8,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 5,
        "sdecandelario": 3
      },
      "user_artists": {
        "paqueradejere": [
          "Andy McKee",
          "Avishai Cohen",
          "La Troba Kung-F√∫"
        ],
        "sdecandelario": [
          "Savage Circus",
          "Metal Church",
          "Tigertailz"
        ]
      },
      "top_artists": [
        "Avishai Cohen",
        "Andy McKee",
        "La Troba Kung-F√∫",
        "Savage Circus",
        "Tigertailz",
        "Metal Church"
      ],
      "top_albums": [
        "Avishai Cohen - Continuo",
        "Andy McKee - Art of Motion",
        "La Troba Kung-F√∫ - Clavell Morenet",
        "Savage Circus - Dreamland Manor",
        "Tigertailz - Bezerk 2.0",
        "Metal Church - A Light In The Dark"
      ]
    },
    {
      "name": "2005",
      "count": 7,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 5,
        "sdecandelario": 2
      },
      "user_artists": {
        "paqueradejere": [
          "Explosions in the Sky",
          "Avishai Cohen",
          "James Robinson",
          "Mulatu Astatke"
        ],
        "sdecandelario": [
          "Ars Amandi",
          "Max√Ømo Park"
        ]
      },
      "top_artists": [
        "Mulatu Astatke",
        "Avishai Cohen",
        "Explosions in the Sky",
        "James Robinson",
        "Ars Amandi",
        "Max√Ømo Park"
      ],
      "top_albums": [
        "Mulatu Astatke - Broken Flowers",
        "Avishai Cohen - At Home",
        "Explosions in the Sky - How Strange, Innocence",
        "James Robinson - Colours",
        "Ars Amandi - Camino Al Destino",
        "Max√Ømo Park - A Certain Trigger"
      ]
    },
    {
      "name": "1993",
      "count": 5,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 3,
        "sdecandelario": 2
      },
      "user_artists": {
        "paqueradejere": [
          "Tower of Power",
          "Stanley Clarke",
          "Steve Khan"
        ],
        "sdecandelario": [
          "Scorpions"
        ]
      },
      "top_artists": [
        "Scorpions",
        "Steve Khan",
        "Stanley Clarke",
        "Tower of Power"
      ],
      "top_albums": [
        "Scorpions - Animal Magnetism",
        "Steve Khan - Come Together - Guitar Tribute To The Beatles",
        "Stanley Clarke - East River Drive",
        "Tower of Power - Ain'T Nothin' Stoppin' Us Now"
      ]
    },
    {
      "name": "2000",
      "count": 4,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 2
      },
      "user_artists": {
        "paqueradejere": [
          "Niacin",
          "Fela Kuti"
        ],
        "sdecandelario": [
          "Rhapsody",
          "Demons & Wizards"
        ]
      },
      "top_artists": [
        "Fela Kuti",
        "Niacin",
        "Rhapsody",
        "Demons & Wizards"
      ],
      "top_albums": [
        "Fela Kuti - Expensive Shit + He Miss Road (feat. Africa 70)",
        "Niacin - Deep",
        "Rhapsody - Dawn of Victory",
        "Demons & Wizards - Demons & Wizards"
      ]
    },
    {
      "name": "1999",
      "count": 4,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 3,
        "sdecandelario": 1
      },
      "user_artists": {
        "paqueradejere": [
          "Jimmy Haslip",
          "Violadores del Verso"
        ],
        "sdecandelario": [
          "W.A.S.P."
        ]
      },
      "top_artists": [
        "Violadores del Verso",
        "Jimmy Haslip",
        "W.A.S.P."
      ],
      "top_albums": [
        "Violadores del Verso - Genios",
        "Jimmy Haslip - Barefoot on the Beach",
        "W.A.S.P. - Helldorado"
      ]
    },
    {
      "name": "1998",
      "count": 4,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 3
      },
      "user_artists": {
        "paqueradejere": [
          "M√°rtires Del Comp√°s"
        ],
        "sdecandelario": [
          "Cinderella",
          "AC/DC",
          "Helloween"
        ]
      },
      "top_artists": [
        "M√°rtires Del Comp√°s",
        "Helloween",
        "AC/DC",
        "Cinderella"
      ],
      "top_albums": [
        "M√°rtires Del Comp√°s - Al Comp√°s De La Llaga Dolorida",
        "Helloween - Better Than Raw",
        "AC/DC - Let There Be Rock",
        "Cinderella - Bad Attitude"
      ]
    },
    {
      "name": "1994",
      "count": 3,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 1
      },
      "user_artists": {
        "paqueradejere": [
          "John Scofield",
          "Matata"
        ],
        "sdecandelario": [
          "Whitesnake"
        ]
      },
      "top_artists": [
        "Matata",
        "John Scofield",
        "Whitesnake"
      ],
      "top_albums": [
        "Matata - Feelin' Funky",
        "John Scofield - Hand Jive",
        "Whitesnake - Greatest Hits"
      ]
    },
    {
      "name": "1996",
      "count": 3,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 2
      },
      "user_artists": {
        "paqueradejere": [
          "Jesse Cook"
        ],
        "sdecandelario": [
          "Mr. Big",
          "Van Halen"
        ]
      },
      "top_artists": [
        "Jesse Cook",
        "Mr. Big",
        "Van Halen"
      ],
      "top_albums": [
        "Jesse Cook - Gravity",
        "Mr. Big - Hey Man",
        "Van Halen - Best of Van Halen, Volume 1"
      ]
    },
    {
      "name": "2010",
      "count": 2,
      "users": [
        "paqueradejere",
        "sdecandelario"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 1
      },
      "user_artists": {
        "paqueradejere": [
          "Eskorbuto"
        ],
        "sdecandelario": [
          "Deep Purple"
        ]
      },
      "top_artists": [
        "Eskorbuto",
        "Deep Purple"
      ],
      "top_albums": [
        "Eskorbuto - Anti-Todo",
        "Deep Purple - Deepest Purple: The Very Best of Deep Purple"
      ]
    }
  ],
  "novelties": {
    "nuevos": {
      "artists": [
        {
          "name": "Elvenking",
          "count": 12,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230596639
        },
        {
          "name": "Airbourne",
          "count": 22,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230311999
        },
        {
          "name": "Sphinx",
          "count": 20,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1229961561
        }
      ],
      "albums": [
        {
          "name": "Elvenking - The Winter Wake",
          "artist": "Elvenking",
          "album": "The Winter Wake",
          "count": 12,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230596639
        },
        {
          "name": "Sphinx - Paraiso en la eternidad",
          "artist": "Sphinx",
          "album": "Paraiso en la eternidad",
          "count": 11,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230566209
        },
        {
          "name": "Airbourne - Runnin' Wild",
          "artist": "Airbourne",
          "album": "Runnin' Wild",
          "count": 22,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230311999
        },
        {
          "name": "Saxon - The Eagle Has Landed III",
          "artist": "Saxon",
          "album": "The Eagle Has Landed III",
          "count": 33,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230139810
        },
        {
          "name": "Saurom Lamderth - Once Romances Desde Al-Andalus",
          "artist": "Saurom Lamderth",
          "album": "Once Romances Desde Al-Andalus",
          "count": 16,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230065232
        },
        {
          "name": "Saxon - The Eagle Has Landed II",
          "artist": "Saxon",
          "album": "The Eagle Has Landed II",
          "count": 17,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1229938371
        },
        {
          "name": "Saxon - The Eagle Has Landed",
          "artist": "Saxon",
          "album": "The Eagle Has Landed",
          "count": 10,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1229902529
        },
        {
          "name": "Gamma Ray - Land Of The Free II",
          "artist": "Gamma Ray",
          "album": "Land Of The Free II",
          "count": 11,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1229292387
        },
        {
          "name": "The Who - Who's Next",
          "artist": "The Who",
          "album": "Who's Next",
          "count": 29,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1228492439
        },
        {
          "name": "The Doors - Live At The Matrix",
          "artist": "The Doors",
          "album": "Live At The Matrix",
          "count": 42,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1228435665
        }
      ],
      "tracks": [
        {
          "name": "Saxon - To Live by the Sword, Part 2",
          "artist": "Saxon",
          "track": "To Live by the Sword, Part 2",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230719752
        },
        {
          "name": "Airbourne - Hellfire",
          "artist": "Airbourne",
          "track": "Hellfire",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230314061
        },
        {
          "name": "Airbourne - Heartbreaker",
          "artist": "Airbourne",
          "track": "Heartbreaker",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230313825
        },
        {
          "name": "Airbourne - Cheap Wine & Cheaper Women",
          "artist": "Airbourne",
          "track": "Cheap Wine & Cheaper Women",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230313635
        },
        {
          "name": "Airbourne - Girls in Black",
          "artist": "Airbourne",
          "track": "Girls in Black",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230313439
        },
        {
          "name": "Airbourne - What's Eatin' You",
          "artist": "Airbourne",
          "track": "What's Eatin' You",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230313222
        },
        {
          "name": "Airbourne - Blackjack",
          "artist": "Airbourne",
          "track": "Blackjack",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230313060
        },
        {
          "name": "Airbourne - Fat City",
          "artist": "Airbourne",
          "track": "Fat City",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1230312854
        },
        {
          "name": "Saxon - Solid Ball Of Rock",
          "artist": "Saxon",
          "track": "Solid Ball Of Rock",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1229938663
        },
        {
          "name": "Saxon - Wheels of Steel",
          "artist": "Saxon",
          "track": "Wheels of Steel",
          "count": 2,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1229904344
        },
        {
          "name": "Violadores del Verso - Maximo Exponente",
          "artist": "Violadores del Verso",
          "track": "Maximo Exponente",
          "count": 2,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1229089303
        },
        {
          "name": "The Who - Baba O' Riley",
          "artist": "The Who",
          "track": "Baba O' Riley",
          "count": 3,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1228492439
        },
        {
          "name": "The Doors - Twentieth Century Fox",
          "artist": "The Doors",
          "track": "Twentieth Century Fox",
          "count": 3,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1228436374
        },
        {
          "name": "The Doors - The Crystal Ship",
          "artist": "The Doors",
          "track": "The Crystal Ship",
          "count": 3,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1228436204
        },
        {
          "name": "The Doors - Money",
          "artist": "The Doors",
          "track": "Money",
          "count": 3,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1228436017
        },
        {
          "name": "The Doors - Soul Kitchen",
          "artist": "The Doors",
          "track": "Soul Kitchen",
          "count": 3,
          "users": [
            "sdecandelario"
          ],
          "first_date": 1228435665
        },
        {
          "name": "Miguel de la Bastide - Torrecillo Del Leal",
          "artist": "Miguel de la Bastide",
          "track": "Torrecillo Del Leal",
          "count": 2,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1228350873
        }
      ]
    },
    "nuevos_compartidos": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuario": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuarios": {}
  },
  "period_label": "December 2008",
  "from_date": "2008-12-01",
  "to_date": "2008-12-31",
  "generated_at": "2025-11-21 13:27"
};
        const hasNovelties = stats.novelties !== undefined;

        // Funci√≥n para obtener novedades de usuario desde datos precalculados
        function getUserNovelties(user) {
            if (!stats.novelties || !stats.novelties.nuevos_para_usuarios) {
                return { artists: [], albums: [], tracks: [] };
            }

            return stats.novelties.nuevos_para_usuarios[user] || { artists: [], albums: [], tracks: [] };
        }

        // Funcionalidad del bot√≥n de usuario
        function initializeUserSelector() {
            const userButton = document.getElementById('userButton');
            const userModal = document.getElementById('userModal');
            const userModalClose = document.getElementById('userModalClose');
            const userOptions = document.getElementById('userOptions');

            // Cargar usuario guardado desde localStorage
            let selectedUser = localStorage.getItem('lastfm_selected_user') || '';

            // Llenar opciones de usuarios
            availableUsers.forEach(user => {
                const option = document.createElement('div');
                option.className = 'user-option';
                option.dataset.user = user;
                option.textContent = user;
                userOptions.appendChild(option);
            });

            // Marcar opci√≥n seleccionada
            updateSelectedUserOption(selectedUser);

            // Event listeners
            userButton.addEventListener('click', () => {
                userModal.style.display = 'block';
            });

            userModalClose.addEventListener('click', () => {
                userModal.style.display = 'none';
            });

            userModal.addEventListener('click', (e) => {
                if (e.target === userModal) {
                    userModal.style.display = 'none';
                }
            });

            userOptions.addEventListener('click', (e) => {
                if (e.target.classList.contains('user-option')) {
                    const user = e.target.dataset.user;
                    selectedUser = user;

                    // Guardar en localStorage
                    if (user) {
                        localStorage.setItem('lastfm_selected_user', user);
                    } else {
                        localStorage.removeItem('lastfm_selected_user');
                    }

                    updateSelectedUserOption(user);
                    userModal.style.display = 'none';
                    renderStats(); // Re-renderizar con nuevo usuario
                }
            });

            return selectedUser;
        }

        function updateSelectedUserOption(selectedUser) {
            const userOptions = document.getElementById('userOptions');
            userOptions.querySelectorAll('.user-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.user === selectedUser) {
                    option.classList.add('selected');
                }
            });
        }

        // Inicializar categor√≠as activas
        let activeCategories = new Set(['artists']); // Por defecto mostrar artistas
        let selectedUser = '';

        document.getElementById('dateRange').textContent = `${stats.from_date || ''} ‚Üí ${stats.to_date || ''}`;
        document.getElementById('totalScrobbles').textContent = stats.total_scrobbles || 0;
        document.getElementById('generatedAt').textContent = stats.generated_at || '';

        // Manejar filtros de categor√≠as
        const categoryFilters = document.querySelectorAll('.category-filter');
        categoryFilters.forEach(filter => {
            filter.addEventListener('click', () => {
                const category = filter.dataset.category;

                if (activeCategories.has(category)) {
                    activeCategories.delete(category);
                    filter.classList.remove('active');
                } else {
                    activeCategories.add(category);
                    filter.classList.add('active');
                }

                renderStats();
            });
        });

        function showArtistsPopup(itemName, category, user) {
            const item = stats[category].find(item => item.name === itemName);
            if (!item || !item.user_artists || !item.user_artists[user]) return;

            const artists = item.user_artists[user];

            // Crear overlay
            const overlay = document.createElement('div');
            overlay.className = 'popup-overlay';

            // Crear popup
            const popup = document.createElement('div');
            popup.className = 'artists-popup';

            const header = document.createElement('div');
            header.className = 'popup-header';

            const closeBtn = document.createElement('button');
            closeBtn.className = 'popup-close';
            closeBtn.innerHTML = '√ó';
            closeBtn.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            header.innerHTML = `Artistas de ${user} en "${itemName}"`;
            header.appendChild(closeBtn);

            const artistList = document.createElement('ul');
            artistList.className = 'artist-list';

            artists.forEach(artist => {
                const li = document.createElement('li');
                li.textContent = artist;
                artistList.appendChild(li);
            });

            popup.appendChild(header);
            popup.appendChild(artistList);

            // Cerrar al hacer click en overlay
            overlay.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            document.body.appendChild(overlay);
            document.body.appendChild(popup);
        }

        function createNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';

            if (selectedUser && item.users.includes(selectedUser)) {
                itemDiv.classList.add('highlighted');
            }

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Conteo de plays si existe
            if (item.count) {
                const countBadge = document.createElement('span');
                countBadge.className = 'badge';
                countBadge.textContent = `${item.count} plays`;
                itemMeta.appendChild(countBadge);
            }

            // Fecha de primer scrobble
            const date = new Date(item.first_date * 1000);
            const dateBadge = document.createElement('span');
            dateBadge.className = 'badge';
            dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
            itemMeta.appendChild(dateBadge);

            // Usuarios que lo han escuchado
            item.users.forEach(user => {
                const userBadge = document.createElement('span');
                userBadge.className = 'user-badge';
                if (user === selectedUser) {
                    userBadge.classList.add('highlighted-user');
                }
                userBadge.textContent = user;
                itemMeta.appendChild(userBadge);
            });

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function createUserNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';
            itemDiv.classList.add('highlighted'); // Siempre resaltado para el usuario

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Total de scrobbles del usuario para este elemento
            if (item.total_count) {
                const totalBadge = document.createElement('span');
                totalBadge.className = 'badge';
                totalBadge.style.background = '#cba6f7';
                totalBadge.style.color = '#1e1e2e';
                totalBadge.textContent = `${item.total_count} total plays`;
                itemMeta.appendChild(totalBadge);
            }

            // Scrobbles en este per√≠odo
            if (item.period_count) {
                const periodBadge = document.createElement('span');
                periodBadge.className = 'badge';
                periodBadge.textContent = `${item.period_count} plays per√≠odo`;
                itemMeta.appendChild(periodBadge);
            }

            // Fecha de primera vez del usuario (si est√° disponible)
            if (item.first_date || item.user_first_date) {
                const date = new Date((item.first_date || item.user_first_date) * 1000);
                const dateBadge = document.createElement('span');
                dateBadge.className = 'badge';
                dateBadge.style.background = '#a6e3a1';
                dateBadge.style.color = '#1e1e2e';
                dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
                itemMeta.appendChild(dateBadge);
            }

            // Usuarios que tambi√©n lo escucharon (coincidencias)
            if (item.coincident_users && item.coincident_users.length > 0) {
                item.coincident_users.forEach(user => {
                    const userBadge = document.createElement('span');
                    userBadge.className = 'user-badge';
                    userBadge.textContent = user;
                    itemMeta.appendChild(userBadge);
                });
            }

            // Informaci√≥n de coincidencias
            if (item.num_coincidences) {
                const coincidencesBadge = document.createElement('span');
                coincidencesBadge.className = 'badge';
                coincidencesBadge.style.background = '#f38ba8';
                coincidencesBadge.style.color = '#1e1e2e';
                coincidencesBadge.textContent = `${item.num_coincidences} coincidencias`;
                itemMeta.appendChild(coincidencesBadge);
            }

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function renderStats() {
            const container = document.getElementById('categoriesContainer');
            container.innerHTML = '';

            const categoryTitles = {
                artists: 'Artistas M√°s Escuchados',
                tracks: 'Canciones M√°s Escuchadas',
                albums: '√Ålbumes M√°s Escuchados',
                genres: 'G√©neros M√°s Escuchados',
                labels: 'Sellos M√°s Escuchados',
                years: 'A√±os M√°s Escuchados',
                novelties: 'Novedades'
            };

            let hasData = false;

            ['artists', 'tracks', 'albums', 'genres', 'labels', 'years', 'novelties'].forEach(categoryKey => {
                if (!activeCategories.has(categoryKey)) return;

                // Manejo especial para novedades
                if (categoryKey === 'novelties') {
                    if (!hasNovelties || !stats.novelties) return;

                    hasData = true;
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'category visible';
                    categoryDiv.dataset.category = categoryKey;

                    const title = document.createElement('h3');
                    title.textContent = categoryTitles[categoryKey];
                    categoryDiv.appendChild(title);

                    // NUEVOS PARA TODOS
                    const nuevosSection = document.createElement('div');
                    nuevosSection.className = 'novelty-section';

                    const nuevosTitle = document.createElement('h4');
                    nuevosTitle.textContent = 'üÜï Nuevos para todos';
                    nuevosSection.appendChild(nuevosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos';
                            subsection.appendChild(emptyDiv);
                        }

                        nuevosSection.appendChild(subsection);
                    });

                    categoryDiv.appendChild(nuevosSection);

                    // NUEVOS COMPARTIDOS
                    const compartidosSection = document.createElement('div');
                    compartidosSection.className = 'novelty-section';

                    const compartidosTitle = document.createElement('h4');
                    compartidosTitle.textContent = 'üë• Nuevos compartidos (50%+ del grupo)';
                    compartidosSection.appendChild(compartidosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos_compartidos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos compartidos';
                            subsection.appendChild(emptyDiv);
                        }

                        compartidosSection.appendChild(subsection);
                    });

                    // NUEVOS PARA USUARIO SELECCIONADO
                    if (selectedUser) {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = `üë§ Nuevos para ${selectedUser} (ya conocidos por el grupo)`;
                        usuarioSection.appendChild(usuarioTitle);

                        // Calcular novedades para el usuario
                        const userNovelties = getUserNovelties(selectedUser);

                        ['artists', 'albums', 'tracks'].forEach(type => {
                            const subsection = document.createElement('div');
                            subsection.className = 'novelty-subsection';

                            const subsectionTitle = document.createElement('h5');
                            subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                         type === 'albums' ? '√Ålbumes' : 'Canciones';
                            subsection.appendChild(subsectionTitle);

                            const items = userNovelties[type];
                            if (items && items.length > 0) {
                                items.forEach(item => {
                                    const itemDiv = createUserNoveltyItem(item, selectedUser);
                                    subsection.appendChild(itemDiv);
                                });
                            } else {
                                const emptyDiv = document.createElement('div');
                                emptyDiv.className = 'novelty-empty';
                                const typeText = type === 'artists' ? 'artistas' :
                                               type === 'albums' ? '√°lbumes' : 'canciones';
                                emptyDiv.textContent = items ?
                                    `No hay ${typeText} nuevos para ${selectedUser} con coincidencias en el per√≠odo` :
                                    'Calculando novedades del usuario...';
                                subsection.appendChild(emptyDiv);
                            }

                            usuarioSection.appendChild(subsection);
                        });

                        categoryDiv.appendChild(usuarioSection);
                    } else {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = 'üë§ Nuevos para usuario espec√≠fico';
                        usuarioSection.appendChild(usuarioTitle);

                        const infoDiv = document.createElement('div');
                        infoDiv.className = 'novelty-empty';
                        infoDiv.textContent = 'Selecciona un usuario para ver sus novedades personales';
                        usuarioSection.appendChild(infoDiv);

                        categoryDiv.appendChild(usuarioSection);
                    }
                    container.appendChild(categoryDiv);
                    return;
                }

                if (!stats[categoryKey] || stats[categoryKey].length === 0) return;

                hasData = true;
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category visible';
                categoryDiv.dataset.category = categoryKey;

                const title = document.createElement('h3');
                title.textContent = categoryTitles[categoryKey];
                categoryDiv.appendChild(title);

                stats[categoryKey].forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'item';

                    if (selectedUser && item.users.includes(selectedUser)) {
                        itemDiv.classList.add('highlighted');
                    }

                    // Hacer clickeable si es g√©nero, a√±o o sello y hay usuario seleccionado
                    const isClickableForUser = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                       selectedUser &&
                                       item.users.includes(selectedUser) &&
                                       item.user_artists &&
                                       item.user_artists[selectedUser];

                    // Hacer expandible si tiene informaci√≥n detallada
                    const isExpandable = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                         ((item.top_artists && item.top_artists.length > 0) ||
                                          (item.top_albums && item.top_albums.length > 0));

                    const itemName = document.createElement('div');
                    itemName.className = 'item-name';
                    itemName.textContent = item.name;

                    if (isExpandable) {
                        itemDiv.classList.add('expandable');
                    }

                    itemDiv.appendChild(itemName);

                    const itemMeta = document.createElement('div');
                    itemMeta.className = 'item-meta';

                    const countBadge = document.createElement('span');
                    countBadge.className = 'badge';
                    countBadge.textContent = `${item.count} plays`;
                    itemMeta.appendChild(countBadge);

                    item.users.sort((a, b) => (item.user_counts[b] || 0) - (item.user_counts[a] || 0));

                    item.users.forEach(user => {
                        const userBadge = document.createElement('span');
                        userBadge.className = 'user-badge';
                        if (user === selectedUser) {
                            userBadge.classList.add('highlighted-user');
                        }

                        const userScrobbles = item.user_counts[user] || 0;
                        userBadge.textContent = `${user} (${userScrobbles})`;

                        if (isClickableForUser && user === selectedUser) {
                            userBadge.style.cursor = 'pointer';
                            userBadge.addEventListener('click', (e) => {
                                e.stopPropagation();
                                showArtistsPopup(item.name, categoryKey, user);
                            });
                        }

                        itemMeta.appendChild(userBadge);
                    });

                    itemDiv.appendChild(itemMeta);

                    // Detalles expandibles
                    if (isExpandable) {
                        const detailsDiv = document.createElement('div');
                        detailsDiv.className = 'details';

                        if (item.top_artists && item.top_artists.length > 0) {
                            const artistSection = document.createElement('div');
                            artistSection.className = 'detail-section';

                            const artistTitle = document.createElement('div');
                            artistTitle.className = 'detail-title';
                            artistTitle.textContent = 'Top Artistas:';
                            artistSection.appendChild(artistTitle);

                            const artistList = document.createElement('div');
                            artistList.className = 'detail-list';

                            item.top_artists.slice(0, 10).forEach(artist => {
                                const artistItem = document.createElement('span');
                                artistItem.className = 'detail-item';
                                artistItem.textContent = artist;
                                artistList.appendChild(artistItem);
                            });

                            artistSection.appendChild(artistList);
                            detailsDiv.appendChild(artistSection);
                        }

                        if (item.top_albums && item.top_albums.length > 0) {
                            const albumSection = document.createElement('div');
                            albumSection.className = 'detail-section';

                            const albumTitle = document.createElement('div');
                            albumTitle.className = 'detail-title';
                            albumTitle.textContent = 'Top √Ålbumes:';
                            albumSection.appendChild(albumTitle);

                            const albumList = document.createElement('div');
                            albumList.className = 'detail-list';

                            item.top_albums.slice(0, 10).forEach(album => {
                                const albumItem = document.createElement('span');
                                albumItem.className = 'detail-item';
                                albumItem.textContent = album;
                                albumList.appendChild(albumItem);
                            });

                            albumSection.appendChild(albumList);
                            detailsDiv.appendChild(albumSection);
                        }

                        itemDiv.appendChild(detailsDiv);

                        itemDiv.addEventListener('click', (e) => {
                            if (e.target.classList.contains('user-badge') && e.target.style.cursor === 'pointer') {
                                return;
                            }

                            itemDiv.classList.toggle('expanded');
                            detailsDiv.classList.toggle('expanded');
                        });
                    }

                    categoryDiv.appendChild(itemDiv);
                });

                container.appendChild(categoryDiv);
            });

            if (!hasData) {
                const noDataDiv = document.createElement('div');
                noDataDiv.className = 'no-data';
                noDataDiv.textContent = 'No hay datos para mostrar con los filtros seleccionados.';
                container.appendChild(noDataDiv);
            }
        }

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            selectedUser = initializeUserSelector();
            renderStats();
        });
    </script>
</body>
</html>