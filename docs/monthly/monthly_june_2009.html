<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Last.fm Stats - June 2009</title>
    <link rel="icon" type="image/png" href="images/music.png">
    <!-- Umami Analytics -->
    <script defer src="https://cloud.umami.is/script.js" data-website-id="5d84fd6c-0760-4a0c-a2d0-ffabb82179f5"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1e1e2e;
            color: #cdd6f4;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #181825;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: #1e1e2e;
            padding: 20px 30px;
            border-bottom: 2px solid #cba6f7;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 80px;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
        }

        h1 {
            font-size: 1.8em;
            color: #cba6f7;
            margin: 0;
            text-align: center;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .nav-button {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
        }

        .nav-button:hover {
            border-color: #cba6f7;
            background: #45475a;
            color: #cdd6f4;
        }

        .nav-button.current {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .user-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #181825;
            color: #1e1e2e;
            border: none;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .user-button:hover {
            background: #b4a3e8;
            transform: scale(1.1);
        }

        .user-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .user-modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            border: 2px solid #cba6f7;
        }

        .user-modal-header {
            color: #cba6f7;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
        }

        .user-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.5em;
            cursor: pointer;
            padding: 0;
        }

        .user-modal-close:hover {
            color: #cba6f7;
        }

        .user-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .user-option {
            padding: 12px 20px;
            background: #313244;
            border: 2px solid #45475a;
            border-radius: 8px;
            color: #cdd6f4;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .user-option:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .user-option.selected {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .controls {
            padding: 20px 30px;
            background: #1e1e2e;
            border-bottom: 1px solid #313244;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
        }

        .control-group {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
        }

        .control-group label {
            color: #cba6f7;
            font-weight: 600;
        }

        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .category-filter {
            padding: 8px 16px;
            background: #313244;
            color: #cdd6f4;
            border: 2px solid #45475a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            font-weight: 600;
        }

        .category-filter:hover {
            border-color: #cba6f7;
            background: #45475a;
        }

        .category-filter.active {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .period-header {
            background: #1e1e2e;
            padding: 25px 30px;
            border-bottom: 2px solid #cba6f7;
        }

        .period-header h2 {
            color: #cba6f7;
            font-size: 1.5em;
            margin-bottom: 8px;
        }

        .period-info {
            color: #a6adc8;
            font-size: 0.9em;
        }

        .stats-container {
            padding: 30px;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        .category {
            background: #1e1e2e;
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #313244;
            display: none;
        }

        .category.visible {
            display: block;
        }

        .category h3 {
            color: #cba6f7;
            font-size: 1.2em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #cba6f7;
        }

        .item {
            padding: 12px;
            margin-bottom: 10px;
            background: #181825;
            border-radius: 8px;
            border-left: 3px solid #45475a;
            transition: all 0.3s;
            cursor: pointer;
        }

        .item:hover {
            transform: translateX(5px);
            border-left-color: #cba6f7;
        }

        .item.highlighted {
            border-left-color: #cba6f7;
            background: #1a1826;
        }

        .item-name {
            font-weight: 600;
            color: #cdd6f4;
            font-size: 1em;
        }

        .item-meta {
            margin-top: 8px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
        }

        .badge {
            background: #45475a;
            color: #cdd6f4;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .user-badge {
            background: #313244;
            color: #a6adc8;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75em;
            border: 1px solid #45475a;
        }

        .user-badge.highlighted-user {
            background: #cba6f7;
            color: #1e1e2e;
            border-color: #cba6f7;
        }

        .expandable {
            position: relative;
        }

        .expandable::after {
            content: '‚ñº';
            position: absolute;
            right: 12px;
            top: 12px;
            color: #6c7086;
            font-size: 0.8em;
        }

        .expandable.expanded::after {
            content: '‚ñ≤';
        }

        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 15px;
            margin-top: 10px;
        }

        .details.expanded {
            max-height: 400px;
            overflow-y: auto;
            border-top: 1px solid #313244;
            padding-top: 15px;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-title {
            color: #f9e2af;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .detail-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .detail-item {
            background: #181825;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            color: #a6adc8;
        }

        .novelty-section {
            margin-bottom: 25px;
        }

        .novelty-section h4 {
            color: #a6e3a1;
            font-size: 1.05em;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #45475a;
        }

        .novelty-subsection {
            margin-bottom: 20px;
        }

        .novelty-subsection h5 {
            color: #f9e2af;
            font-size: 0.95em;
            margin-bottom: 10px;
        }

        .novelty-empty {
            color: #6c7086;
            font-style: italic;
            text-align: center;
            padding: 20px;
        }

        .artists-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e2e;
            border: 2px solid #cba6f7;
            border-radius: 12px;
            padding: 20px;
            max-width: 500px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 999;
        }

        .popup-header {
            color: #cba6f7;
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 15px;
            border-bottom: 1px solid #313244;
            padding-bottom: 10px;
        }

        .popup-close {
            float: right;
            background: none;
            border: none;
            color: #cdd6f4;
            font-size: 1.2em;
            cursor: pointer;
            padding: 0;
            margin-top: -5px;
        }

        .popup-close:hover {
            color: #cba6f7;
        }

        .artist-list {
            list-style: none;
            padding: 0;
        }

        .artist-list li {
            padding: 8px 12px;
            background: #181825;
            margin-bottom: 5px;
            border-radius: 6px;
            border-left: 3px solid #45475a;
        }

        .no-data {
            text-align: center;
            padding: 40px;
            color: #6c7086;
            font-style: italic;
        }

        .last-update {
            text-align: center;
            padding: 20px;
            color: #6c7086;
            font-size: 0.85em;
            border-top: 1px solid #313244;
        }

        @media (max-width: 768px) {
            .categories {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .category-filters {
                justify-content: center;
            }

            .artists-popup {
                max-width: 90%;
                max-height: 80%;
            }

            header {
                flex-direction: column;
                gap: 15px;
            }

            .nav-buttons {
                order: -1;
            }

            .user-button {
                order: 1;
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üìä RYM Hispano Estad√≠sticas</h1>
                <div class="nav-buttons">
                    <a href="esta-semana.html" class="nav-button">TEMPORALES</a>
                    <a href="index.html#grupo" class="nav-button">GRUPO</a>
                    <a href="index.html#about" class="nav-button">ACERCA DE</a>
                </div>
            </div>
            <button class="user-button" id="userButton">üë§</button>
        </header>

        <!-- Modal de selecci√≥n de usuario -->
        <div class="user-modal" id="userModal">
            <div class="user-modal-content">
                <button class="user-modal-close" id="userModalClose">√ó</button>
                <div class="user-modal-header">Seleccionar Usuario</div>
                <div class="user-options" id="userOptions">
                    <!-- Se llenar√°n din√°micamente -->
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">

                <div class="category-filters">
                    <button class="category-filter active" data-category="artists">Artistas</button><button class="category-filter " data-category="tracks">Canciones</button><button class="category-filter " data-category="albums">√Ålbumes</button><button class="category-filter " data-category="genres">G√©neros</button><button class="category-filter " data-category="labels">Sellos</button><button class="category-filter " data-category="years">A√±os</button><button class="category-filter " data-category="novelties">Novedades</button>
                </div>
            </div>
        </div>

        <div class="period-header">
            <h2>June 2009</h2>
            <p class="period-info">
                <span id="dateRange"></span> |
                <span id="totalScrobbles"></span> scrobbles totales
            </p>
        </div>

        <div class="stats-container">
            <div class="categories" id="categoriesContainer">
                <!-- Se llenar√° din√°micamente -->
            </div>
        </div>

        <div class="last-update">
            Generado: <span id="generatedAt"></span>
        </div>
    </div>

    <script>
        // Usuarios reales del entorno LASTFM_USERS
        const availableUsers = ["alberto_gu", "EliasJ72", "Frikomid", "GabredMared", "Lonsonxd", "Nubis84", "paqueradejere", "Rocky_stereo", "sdecandelario"];
        const stats = {
  "total_scrobbles": 1052,
  "artists": [
    {
      "name": "The Who",
      "count": 17,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 16
      }
    },
    {
      "name": "Reid Anderson",
      "count": 11,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 1,
        "paqueradejere": 10
      }
    },
    {
      "name": "Rainbow",
      "count": 11,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 9
      }
    }
  ],
  "tracks": [
    {
      "name": "Reid Anderson - Tom Sawyer",
      "count": 2,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 1,
        "paqueradejere": 1
      }
    }
  ],
  "albums": [
    {
      "name": "Reid Anderson - Prog",
      "count": 11,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 1,
        "paqueradejere": 10
      }
    }
  ],
  "genres": [
    {
      "name": "heavy metal",
      "count": 309,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 3,
        "sdecandelario": 306
      },
      "user_artists": {
        "Nubis84": [
          "Iron Maiden",
          "Rainbow"
        ],
        "sdecandelario": [
          "HammerFall",
          "Savatage",
          "Tierra Santa",
          "Iron Maiden",
          "Mot√∂rhead",
          "Pantera",
          "Ob√∫s",
          "Impellitteri",
          "Megadeth",
          "Warlock",
          "Helloween",
          "Saratoga",
          "Masterplan",
          "Saxon",
          "Rainbow",
          "Ozzy Osbourne",
          "W.A.S.P.",
          "Queensr√øche",
          "Judas Priest",
          "M√∂tley Cr√ºe"
        ]
      },
      "top_artists": [
        "Mot√∂rhead",
        "Saxon",
        "Judas Priest",
        "M√∂tley Cr√ºe",
        "Impellitteri",
        "Masterplan",
        "W.A.S.P.",
        "HammerFall",
        "Megadeth",
        "Rainbow"
      ],
      "top_albums": [
        "Saxon - The Inner Sanctum",
        "Impellitteri - Wicked Maiden",
        "Masterplan - Masterplan",
        "Mot√∂rhead - Inferno",
        "Mot√∂rhead - Ace of Spades",
        "M√∂tley Cr√ºe - Saints of Los Angeles",
        "M√∂tley Cr√ºe - Shout at the Devil",
        "Judas Priest - Point of Entry",
        "Megadeth - Countdown to Extinction",
        "Judas Priest - Screaming for Vengeance"
      ]
    },
    {
      "name": "metal",
      "count": 287,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 16,
        "paqueradejere": 1,
        "sdecandelario": 270
      },
      "user_artists": {
        "Nubis84": [
          "Iron Maiden",
          "Rainbow",
          "Opeth"
        ],
        "paqueradejere": [
          "Isis"
        ],
        "sdecandelario": [
          "HammerFall",
          "Savatage",
          "Tierra Santa",
          "Iron Maiden",
          "Sonata Arctica",
          "Mot√∂rhead",
          "Pantera",
          "Impellitteri",
          "Megadeth",
          "Warlock",
          "Helloween",
          "Saratoga",
          "Masterplan",
          "Saxon",
          "Rainbow",
          "Ozzy Osbourne",
          "W.A.S.P.",
          "Queensr√øche",
          "Judas Priest"
        ]
      },
      "top_artists": [
        "Mot√∂rhead",
        "Saxon",
        "Judas Priest",
        "Impellitteri",
        "Masterplan",
        "W.A.S.P.",
        "HammerFall",
        "Opeth",
        "Megadeth",
        "Rainbow"
      ],
      "top_albums": [
        "Saxon - The Inner Sanctum",
        "Impellitteri - Wicked Maiden",
        "Masterplan - Masterplan",
        "Mot√∂rhead - Inferno",
        "Mot√∂rhead - Ace of Spades",
        "Judas Priest - Point of Entry",
        "Megadeth - Countdown to Extinction",
        "Judas Priest - Screaming for Vengeance",
        "HammerFall - Glory to the Brave",
        "W.A.S.P. - The Last Command"
      ]
    },
    {
      "name": "hard rock",
      "count": 258,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 20,
        "sdecandelario": 238
      },
      "user_artists": {
        "Nubis84": [
          "Iron Maiden",
          "Rush",
          "Rainbow",
          "The Who",
          "Queen"
        ],
        "sdecandelario": [
          "Iron Maiden",
          "Journey",
          "Saxon",
          "Rainbow",
          "Ozzy Osbourne",
          "W.A.S.P.",
          "Queensr√øche",
          "Warlock",
          "Mot√∂rhead",
          "Savatage",
          "Judas Priest",
          "Ob√∫s",
          "The Who",
          "M√∂tley Cr√ºe"
        ]
      },
      "top_artists": [
        "Mot√∂rhead",
        "Saxon",
        "Judas Priest",
        "M√∂tley Cr√ºe",
        "W.A.S.P.",
        "The Who",
        "Queen",
        "Rainbow",
        "Ozzy Osbourne",
        "Ob√∫s"
      ],
      "top_albums": [
        "Saxon - The Inner Sanctum",
        "Mot√∂rhead - Inferno",
        "The Who - Who's Next",
        "Mot√∂rhead - Ace of Spades",
        "M√∂tley Cr√ºe - Saints of Los Angeles",
        "Queen - Queen II",
        "M√∂tley Cr√ºe - Shout at the Devil",
        "Judas Priest - Point of Entry",
        "Judas Priest - Screaming for Vengeance",
        "W.A.S.P. - The Last Command"
      ]
    },
    {
      "name": "rock",
      "count": 212,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 79,
        "paqueradejere": 2,
        "sdecandelario": 131
      },
      "user_artists": {
        "Nubis84": [
          "Iron Maiden",
          "Queen",
          "Steely Dan",
          "Rush",
          "Yes",
          "Pearl Jam",
          "Rainbow",
          "Porcupine Tree",
          "The Alan Parsons Project",
          "The Mars Volta",
          "Riverside",
          "The Who",
          "Nick Cave & the Bad Seeds",
          "The Doors"
        ],
        "paqueradejere": [
          "The Right Ons",
          "Radiohead"
        ],
        "sdecandelario": [
          "Iron Maiden",
          "Journey",
          "Nirvana",
          "Rainbow",
          "Ozzy Osbourne",
          "Mot√∂rhead",
          "The Who",
          "M√∂tley Cr√ºe"
        ]
      },
      "top_artists": [
        "Mot√∂rhead",
        "The Alan Parsons Project",
        "M√∂tley Cr√ºe",
        "The Who",
        "Queen",
        "Rainbow",
        "The Mars Volta",
        "Ozzy Osbourne",
        "Journey",
        "Yes"
      ],
      "top_albums": [
        "The Alan Parsons Project - Tales Of Mystery And Imagination",
        "Mot√∂rhead - Inferno",
        "The Who - Who's Next",
        "Mot√∂rhead - Ace of Spades",
        "M√∂tley Cr√ºe - Saints of Los Angeles",
        "Queen - Queen II",
        "M√∂tley Cr√ºe - Shout at the Devil",
        "Rainbow - Ritchie Blackmore's Rainbow",
        "Ozzy Osbourne - Bark at the Moon",
        "Mot√∂rhead - Overkill"
      ]
    },
    {
      "name": "classic rock",
      "count": 133,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 57,
        "sdecandelario": 76
      },
      "user_artists": {
        "Nubis84": [
          "Queen",
          "Steely Dan",
          "Rush",
          "Yes",
          "Rainbow",
          "The Alan Parsons Project",
          "The Who",
          "The Doors"
        ],
        "sdecandelario": [
          "Journey",
          "Rainbow",
          "Ozzy Osbourne",
          "Judas Priest",
          "The Who"
        ]
      },
      "top_artists": [
        "Judas Priest",
        "The Alan Parsons Project",
        "The Who",
        "Queen",
        "Rainbow",
        "Ozzy Osbourne",
        "Journey",
        "Yes",
        "Rush",
        "Steely Dan"
      ],
      "top_albums": [
        "The Alan Parsons Project - Tales Of Mystery And Imagination",
        "The Who - Who's Next",
        "Queen - Queen II",
        "Judas Priest - Point of Entry",
        "Judas Priest - Screaming for Vengeance",
        "Rainbow - Ritchie Blackmore's Rainbow",
        "Ozzy Osbourne - Bark at the Moon",
        "Journey - Escape",
        "Judas Priest - Hell Bent for Leather",
        "Yes - Yes"
      ]
    },
    {
      "name": "80s",
      "count": 104,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 49,
        "sdecandelario": 55
      },
      "user_artists": {
        "Nubis84": [
          "Michael Jackson",
          "Queen",
          "The Alan Parsons Project"
        ],
        "sdecandelario": [
          "W.A.S.P.",
          "Journey",
          "M√∂tley Cr√ºe"
        ]
      },
      "top_artists": [
        "The Alan Parsons Project",
        "M√∂tley Cr√ºe",
        "W.A.S.P.",
        "Queen",
        "Journey",
        "Michael Jackson"
      ],
      "top_albums": [
        "The Alan Parsons Project - Tales Of Mystery And Imagination",
        "M√∂tley Cr√ºe - Saints of Los Angeles",
        "Queen - Queen II",
        "M√∂tley Cr√ºe - Shout at the Devil",
        "W.A.S.P. - The Last Command",
        "W.A.S.P. - W.A.S.P.",
        "Journey - Escape",
        "M√∂tley Cr√ºe - Girls, Girls, Girls",
        "Queen - Sheer Heart Attack",
        "Michael Jackson - Thriller"
      ]
    },
    {
      "name": "electronic",
      "count": 104,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 31,
        "paqueradejere": 73
      },
      "user_artists": {
        "Nubis84": [
          "The Alan Parsons Project"
        ],
        "paqueradejere": [
          "Tosca",
          "Banzai Republic",
          "Sofa Surfers",
          "Avril",
          "Mr. Scruff",
          "Radiohead",
          "Readymade FC",
          "Koop",
          "DJ Logic",
          "Wagon Christ",
          "Moloko",
          "Chimp Beams",
          "Alexkid",
          "Nightmares on Wax",
          "Hood",
          "Jori Hulkkonen",
          "Thievery Corporation",
          "Vista Le Vie",
          "The Wild Bunch",
          "Portishead"
        ]
      },
      "top_artists": [
        "The Alan Parsons Project",
        "Tosca",
        "Hood",
        "Portishead",
        "Moloko",
        "The Wild Bunch",
        "Banzai Republic",
        "Thievery Corporation",
        "Koop",
        "Chimp Beams"
      ],
      "top_albums": [
        "The Alan Parsons Project - Tales Of Mystery And Imagination",
        "Tosca - J.A.C.",
        "Tosca - Dehli9",
        "Hood - Outside Closer",
        "Portishead - Dummy",
        "Hood - Rustic Houses Forlorn Valleys",
        "Moloko - Statues",
        "The Wild Bunch - The Wild Bunch",
        "Banzai Republic - Quiet Letters",
        "Thievery Corporation - The Mirror Conspiracy"
      ]
    },
    {
      "name": "funk",
      "count": 99,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 3,
        "paqueradejere": 96
      },
      "user_artists": {
        "Nubis84": [
          "Michael Jackson"
        ],
        "paqueradejere": [
          "Bama & The Family",
          "Speedometer",
          "Alphonse Mouzon",
          "The Pimps of Joytime",
          "5ive Style",
          "Sharon Jones & The Dap-Kings",
          "Akoya Afrobeat",
          "DJ Logic",
          "Menahan Street Band",
          "King Britt",
          "Lefties Soul Connection",
          "Down To The Bone",
          "The Harlem Experiment",
          "The Right Ons",
          "The Sugarman 3",
          "Detroit Sex Machines",
          "Weather Report",
          "Antibalas",
          "Lee Fields & The Expressions",
          "fdel"
        ]
      },
      "top_artists": [
        "5ive Style",
        "Speedometer",
        "Lefties Soul Connection",
        "Menahan Street Band",
        "Down To The Bone",
        "Weather Report",
        "Michael Jackson",
        "King Britt",
        "Detroit Sex Machines",
        "Lee Fields & The Expressions"
      ],
      "top_albums": [
        "Speedometer - Four Flights Up",
        "5ive Style - Miniature Portraits",
        "Lefties Soul Connection - Skimming The Skum",
        "Menahan Street Band - Make the Road by Walking",
        "Down To The Bone - Spread Love Like Wildfire",
        "5ive Style - 5ive Style",
        "Weather Report - Live & Unreleased",
        "Michael Jackson - Thriller",
        "Detroit Sex Machines - Truth & Soul presents Grazing In The Trash Vol. 2 : The Soul Fire Funk 45s",
        "Lee Fields & The Expressions - Truth & Soul presents Grazing In The Trash Vol. 2 : The Soul Fire Funk 45s"
      ]
    },
    {
      "name": "jazz",
      "count": 78,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 2,
        "paqueradejere": 76
      },
      "user_artists": {
        "Nubis84": [
          "Steely Dan",
          "Reid Anderson"
        ],
        "paqueradejere": [
          "Stan Getz",
          "Reid Anderson",
          "Grupo X",
          "Hank Mobley",
          "Alphonse Mouzon",
          "Yellowjackets",
          "Koop",
          "BWB",
          "DJ Logic",
          "Menahan Street Band",
          "Claire Pichet",
          "Quadro Nuevo",
          "Chimp Beams",
          "King Britt",
          "Lefties Soul Connection",
          "Antonio Carlos Jobim",
          "Euge Groove",
          "Down To The Bone",
          "Louis Armstrong & His Orchestra",
          "Paul Desmond",
          "The Harlem Experiment",
          "The Sugarman 3",
          "Charlie Byrd",
          "Lou Rawls",
          "Aqua Bassino",
          "Weather Report"
        ]
      },
      "top_artists": [
        "Reid Anderson",
        "Lefties Soul Connection",
        "Menahan Street Band",
        "Down To The Bone",
        "Weather Report",
        "King Britt",
        "Yellowjackets",
        "Quadro Nuevo",
        "The Sugarman 3",
        "The Harlem Experiment"
      ],
      "top_albums": [
        "Reid Anderson - Prog",
        "Lefties Soul Connection - Skimming The Skum",
        "Menahan Street Band - Make the Road by Walking",
        "Down To The Bone - Spread Love Like Wildfire",
        "Weather Report - Live & Unreleased",
        "Yellowjackets - The Best Of Yellowjackets",
        "Quadro Nuevo - Antakya",
        "The Sugarman 3 - Truth & Soul presents Grazing In The Trash Vol. 2 : The Soul Fire Funk 45s",
        "King Britt - King Britt Presents: Sister Gertrude Morgan",
        "The Harlem Experiment - Ropeadope Respects...Black Music"
      ]
    },
    {
      "name": "Progressive rock",
      "count": 71,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 56,
        "sdecandelario": 15
      },
      "user_artists": {
        "Nubis84": [
          "Rush",
          "Yes",
          "Porcupine Tree",
          "The Alan Parsons Project",
          "The Mars Volta",
          "Riverside"
        ],
        "sdecandelario": [
          "Journey",
          "Queensr√øche"
        ]
      },
      "top_artists": [
        "The Alan Parsons Project",
        "The Mars Volta",
        "Journey",
        "Queensr√øche",
        "Yes",
        "Riverside",
        "Porcupine Tree",
        "Rush"
      ],
      "top_albums": [
        "The Alan Parsons Project - Tales Of Mystery And Imagination",
        "The Mars Volta - Octahedron",
        "Journey - Escape",
        "Queensr√øche - Empire",
        "Yes - Yes",
        "Riverside - O2 Panic Room",
        "The Mars Volta - Frances the Mute",
        "Porcupine Tree - In Absentia",
        "Yes - Time and a Word",
        "Rush - Hold Your Fire"
      ]
    },
    {
      "name": "NWOBHM",
      "count": 70,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 1,
        "sdecandelario": 69
      },
      "user_artists": {
        "Nubis84": [
          "Iron Maiden"
        ],
        "sdecandelario": [
          "Iron Maiden",
          "Judas Priest",
          "Saxon"
        ]
      },
      "top_artists": [
        "Saxon",
        "Judas Priest",
        "Iron Maiden"
      ],
      "top_albums": [
        "Saxon - The Inner Sanctum",
        "Judas Priest - Point of Entry",
        "Judas Priest - Screaming for Vengeance",
        "Saxon - Denim And Leather",
        "Judas Priest - Hell Bent for Leather",
        "Judas Priest - Sad Wings of Destiny",
        "Saxon - Strong Arm Of The Law",
        "Judas Priest - Unleashed in the East",
        "Iron Maiden - Piece of Mind",
        "Iron Maiden - Brave New World"
      ]
    },
    {
      "name": "spanish",
      "count": 66,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 64
      },
      "user_artists": {
        "paqueradejere": [
          "Skalariak",
          "The Right Ons"
        ],
        "sdecandelario": [
          "Saurom",
          "Ob√∫s",
          "Saratoga",
          "Tierra Santa"
        ]
      },
      "top_artists": [
        "Saurom",
        "Ob√∫s",
        "Saratoga",
        "Tierra Santa",
        "Skalariak",
        "The Right Ons"
      ],
      "top_albums": [
        "Saurom - Juglar Metal",
        "Saurom - Sombras del Este",
        "Ob√∫s - Poderoso Como El Trueno",
        "Saratoga - Tierra de Lobos",
        "Tierra Santa - Tierras de Leyenda",
        "Skalariak - Latin Ska Jazz",
        "The Right Ons - 80.81"
      ]
    },
    {
      "name": "Progressive metal",
      "count": 34,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 21,
        "paqueradejere": 1,
        "sdecandelario": 12
      },
      "user_artists": {
        "Nubis84": [
          "Porcupine Tree",
          "Riverside",
          "Opeth"
        ],
        "paqueradejere": [
          "Isis"
        ],
        "sdecandelario": [
          "Savatage",
          "Queensr√øche"
        ]
      },
      "top_artists": [
        "Opeth",
        "Queensr√øche",
        "Riverside",
        "Savatage",
        "Porcupine Tree",
        "Isis"
      ],
      "top_albums": [
        "Queensr√øche - Empire",
        "Savatage - Hall of the Mountain King",
        "Opeth - Watershed (bonus disc)",
        "Riverside - O2 Panic Room",
        "Opeth - Damnation",
        "Porcupine Tree - In Absentia",
        "Opeth - Ghost Reveries",
        "Opeth - Blackwater Park",
        "Porcupine Tree - Deadwing",
        "Opeth - Still Life (Remastered)"
      ]
    },
    {
      "name": "german",
      "count": 27,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 26
      },
      "user_artists": {
        "paqueradejere": [
          "Captain Planet"
        ],
        "sdecandelario": [
          "Warlock",
          "Masterplan",
          "Helloween"
        ]
      },
      "top_artists": [
        "Masterplan",
        "Warlock",
        "Helloween",
        "Captain Planet"
      ],
      "top_albums": [
        "Masterplan - Masterplan",
        "Warlock - True As Steel",
        "Captain Planet - BKLYN: Heavy Sounds From The County Of Kings",
        "Helloween - Better Than Raw",
        "Helloween - Master of the Rings",
        "Warlock - Burning The Witches"
      ]
    },
    {
      "name": "soul",
      "count": 26,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 3,
        "paqueradejere": 23
      },
      "user_artists": {
        "Nubis84": [
          "Michael Jackson"
        ],
        "paqueradejere": [
          "The Pimps of Joytime",
          "Lou Rawls",
          "Detroit Sex Machines",
          "Sharon Jones & The Dap-Kings",
          "Bama & The Family",
          "Lee Fields & The Expressions",
          "Menahan Street Band",
          "Grupo X",
          "The Sugarman 3"
        ]
      },
      "top_artists": [
        "Menahan Street Band",
        "Michael Jackson",
        "Detroit Sex Machines",
        "Lee Fields & The Expressions",
        "The Sugarman 3",
        "Bama & The Family",
        "Sharon Jones & The Dap-Kings",
        "The Pimps of Joytime",
        "Grupo X",
        "Lou Rawls"
      ],
      "top_albums": [
        "Menahan Street Band - Make the Road by Walking",
        "Michael Jackson - Thriller",
        "Detroit Sex Machines - Truth & Soul presents Grazing In The Trash Vol. 2 : The Soul Fire Funk 45s",
        "Lee Fields & The Expressions - Truth & Soul presents Grazing In The Trash Vol. 2 : The Soul Fire Funk 45s",
        "The Sugarman 3 - Truth & Soul presents Grazing In The Trash Vol. 2 : The Soul Fire Funk 45s",
        "Bama & The Family - Truth & Soul presents Grazing In The Trash Vol. 2 : The Soul Fire Funk 45s",
        "Sharon Jones & The Dap-Kings - Bklyn: Heavy Sounds From The County Of Kings",
        "The Pimps of Joytime - Bklyn: Heavy Sounds From The County Of Kings",
        "Grupo X - The Connection Vol.1",
        "Lou Rawls - Blue Note Plays Bossa Nova"
      ]
    },
    {
      "name": "british",
      "count": 23,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 6,
        "paqueradejere": 1,
        "sdecandelario": 16
      },
      "user_artists": {
        "Nubis84": [
          "The Who",
          "Yes"
        ],
        "paqueradejere": [
          "BiggaBush"
        ],
        "sdecandelario": [
          "The Who"
        ]
      },
      "top_artists": [
        "The Who",
        "Yes",
        "BiggaBush"
      ],
      "top_albums": [
        "The Who - Who's Next",
        "Yes - Yes",
        "Yes - Time and a Word",
        "The Who - My Generation - The Very Best of The Who",
        "BiggaBush - 13 Faces Of Lightning Head"
      ]
    },
    {
      "name": "experimental",
      "count": 21,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 11,
        "paqueradejere": 10
      },
      "user_artists": {
        "Nubis84": [
          "The Mars Volta"
        ],
        "paqueradejere": [
          "Vista Le Vie",
          "Kinski"
        ]
      },
      "top_artists": [
        "The Mars Volta",
        "Kinski",
        "Vista Le Vie"
      ],
      "top_albums": [
        "Kinski - Down Below It's Chaos",
        "The Mars Volta - Octahedron",
        "The Mars Volta - Frances the Mute",
        "Vista Le Vie - Megasoft Office 2003"
      ]
    },
    {
      "name": "ambient",
      "count": 20,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 3,
        "paqueradejere": 17
      },
      "user_artists": {
        "Nubis84": [
          "Dargaard"
        ],
        "paqueradejere": [
          "Banzai Republic",
          "Nickodemus"
        ]
      },
      "top_artists": [
        "Nickodemus",
        "Dargaard",
        "Banzai Republic"
      ],
      "top_albums": [
        "Nickodemus - Endangered Species",
        "Dargaard - Rise and Fall",
        "Banzai Republic - Quiet Letters",
        "Nickodemus - Finger Lickin' Export 02- Mixed By A. Skillz"
      ]
    },
    {
      "name": "alternative",
      "count": 19,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 13,
        "paqueradejere": 2,
        "sdecandelario": 4
      },
      "user_artists": {
        "Nubis84": [
          "Pearl Jam",
          "Nick Cave & the Bad Seeds",
          "The Mars Volta"
        ],
        "paqueradejere": [
          "Radiohead",
          "Captain Planet"
        ],
        "sdecandelario": [
          "Nirvana"
        ]
      },
      "top_artists": [
        "The Mars Volta",
        "Nirvana",
        "Pearl Jam",
        "Nick Cave & the Bad Seeds",
        "Captain Planet",
        "Radiohead"
      ],
      "top_albums": [
        "The Mars Volta - Octahedron",
        "Nirvana - Nevermind",
        "The Mars Volta - Frances the Mute",
        "Pearl Jam - Ten",
        "Nick Cave & the Bad Seeds - Nocturama",
        "Captain Planet - BKLYN: Heavy Sounds From The County Of Kings",
        "Radiohead - OK Computer (Collector's Edition)"
      ]
    },
    {
      "name": "60s",
      "count": 18,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 2,
        "sdecandelario": 16
      },
      "user_artists": {
        "Nubis84": [
          "The Who",
          "The Doors"
        ],
        "sdecandelario": [
          "The Who"
        ]
      },
      "top_artists": [
        "The Who",
        "The Doors"
      ],
      "top_albums": [
        "The Who - Who's Next",
        "The Doors - The Doors",
        "The Who - My Generation - The Very Best of The Who"
      ]
    },
    {
      "name": "female vocalists",
      "count": 16,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 1,
        "paqueradejere": 15
      },
      "user_artists": {
        "Nubis84": [
          "KOKIA"
        ],
        "paqueradejere": [
          "Claire Pichet",
          "Moloko",
          "Portishead"
        ]
      },
      "top_artists": [
        "Portishead",
        "Moloko",
        "KOKIA",
        "Claire Pichet"
      ],
      "top_albums": [
        "Portishead - Dummy",
        "Moloko - Statues",
        "KOKIA - Phoenix Dream - Rest",
        "Portishead - Roseland NYC Live",
        "Claire Pichet - C'√©tait ici"
      ]
    }
  ],
  "labels": [
    {
      "name": "Polydor",
      "count": 33,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 29
      },
      "user_artists": {
        "Nubis84": [
          "Rainbow",
          "Cream"
        ],
        "sdecandelario": [
          "Rainbow",
          "Deep Purple",
          "The Who"
        ]
      },
      "top_artists": [
        "The Who",
        "Rainbow",
        "Deep Purple",
        "Cream"
      ],
      "top_albums": [
        "The Who - Who's Next",
        "Rainbow - Ritchie Blackmore's Rainbow",
        "Deep Purple - Perfect Strangers",
        "Cream - The Very Best of Cream",
        "Rainbow - Rising"
      ]
    },
    {
      "name": "Atlantic",
      "count": 31,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 6,
        "sdecandelario": 25
      },
      "user_artists": {
        "Nubis84": [
          "Porcupine Tree",
          "Yes"
        ],
        "sdecandelario": [
          "Savatage",
          "AC/DC"
        ]
      },
      "top_artists": [
        "AC/DC",
        "Savatage",
        "Yes",
        "Porcupine Tree"
      ],
      "top_albums": [
        "AC/DC - If You Want Blood You've Got It",
        "AC/DC - Blow Up Your Video",
        "Savatage - Hall of the Mountain King",
        "Yes - Yes",
        "Porcupine Tree - In Absentia"
      ]
    },
    {
      "name": "Elektra",
      "count": 29,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 13,
        "sdecandelario": 16
      },
      "user_artists": {
        "Nubis84": [
          "Dream Theater",
          "The Doors"
        ],
        "sdecandelario": [
          "M√∂tley Cr√ºe"
        ]
      },
      "top_artists": [
        "M√∂tley Cr√ºe",
        "Dream Theater",
        "The Doors"
      ],
      "top_albums": [
        "Dream Theater - Metropolis Part 2:  Scenes From A Memory",
        "M√∂tley Cr√ºe - Shout at the Devil",
        "M√∂tley Cr√ºe - Girls, Girls, Girls",
        "The Doors - The Doors"
      ]
    },
    {
      "name": "EMI",
      "count": 28,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 7,
        "sdecandelario": 21
      },
      "user_artists": {
        "paqueradejere": [
          "Beth Orton"
        ],
        "sdecandelario": [
          "AC/DC",
          "Black Sabbath",
          "Saxon"
        ]
      },
      "top_artists": [
        "Black Sabbath",
        "AC/DC",
        "Beth Orton",
        "Saxon"
      ],
      "top_albums": [
        "Black Sabbath - Dehumanizer",
        "AC/DC - Let There Be Rock",
        "Beth Orton - Comfort Of Strangers",
        "Saxon - Strong Arm Of The Law"
      ]
    },
    {
      "name": "Columbia",
      "count": 27,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 26
      },
      "user_artists": {
        "paqueradejere": [
          "Duke Ellington"
        ],
        "sdecandelario": [
          "Judas Priest",
          "Journey"
        ]
      },
      "top_artists": [
        "Judas Priest",
        "Journey",
        "Duke Ellington"
      ],
      "top_albums": [
        "Judas Priest - Point of Entry",
        "Journey - Escape",
        "Judas Priest - Hell Bent for Leather",
        "Duke Ellington - Jazz - The Greatest Hits"
      ]
    },
    {
      "name": "Epic",
      "count": 18,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 4,
        "sdecandelario": 14
      },
      "user_artists": {
        "Nubis84": [
          "Pearl Jam",
          "Michael Jackson"
        ],
        "sdecandelario": [
          "Ozzy Osbourne",
          "AC/DC"
        ]
      },
      "top_artists": [
        "Ozzy Osbourne",
        "AC/DC",
        "Michael Jackson",
        "Pearl Jam"
      ],
      "top_albums": [
        "Ozzy Osbourne - Bark at the Moon",
        "AC/DC - Stiff Upper Lip",
        "Michael Jackson - Thriller",
        "Pearl Jam - Ten"
      ]
    },
    {
      "name": "Island",
      "count": 13,
      "users": [
        "Nubis84",
        "sdecandelario"
      ],
      "user_counts": {
        "Nubis84": 11,
        "sdecandelario": 2
      },
      "user_artists": {
        "Nubis84": [
          "Queen"
        ],
        "sdecandelario": [
          "Anthrax"
        ]
      },
      "top_artists": [
        "Queen",
        "Anthrax"
      ],
      "top_albums": [
        "Queen - Queen II",
        "Anthrax - Among the Living"
      ]
    },
    {
      "name": "Heads Up International",
      "count": 11,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 1,
        "paqueradejere": 10
      },
      "user_artists": {
        "Nubis84": [
          "Reid Anderson"
        ],
        "paqueradejere": [
          "Reid Anderson"
        ]
      },
      "top_artists": [
        "Reid Anderson"
      ],
      "top_albums": [
        "Reid Anderson - Prog"
      ]
    }
  ],
  "years": [
    {
      "name": "2006",
      "count": 56,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 3,
        "paqueradejere": 11,
        "sdecandelario": 42
      },
      "user_artists": {
        "Nubis84": [
          "Opeth"
        ],
        "paqueradejere": [
          "Beth Orton",
          "Donald Byrd",
          "Duke Pearson",
          "Grant Green",
          "Hank Mobley"
        ],
        "sdecandelario": [
          "Saurom",
          "Journey",
          "Mot√∂rhead"
        ]
      },
      "top_artists": [
        "Saurom",
        "Journey",
        "Beth Orton",
        "Mot√∂rhead",
        "Opeth",
        "Donald Byrd",
        "Grant Green",
        "Duke Pearson",
        "Hank Mobley"
      ],
      "top_albums": [
        "Saurom - Juglar Metal",
        "Journey - Escape",
        "Beth Orton - Comfort Of Strangers",
        "Mot√∂rhead - Kiss of Death",
        "Opeth - Ghost Reveries",
        "Opeth - Deliverance",
        "Donald Byrd - Back Down To The Tropics",
        "Grant Green - Back Down To The Tropics",
        "Duke Pearson - Back Down To The Tropics",
        "Hank Mobley - Back Down To The Tropics"
      ]
    },
    {
      "name": "2007",
      "count": 34,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 24,
        "sdecandelario": 10
      },
      "user_artists": {
        "paqueradejere": [
          "The Right Ons",
          "Speedometer",
          "Kinski"
        ],
        "sdecandelario": [
          "Axxis"
        ]
      },
      "top_artists": [
        "Speedometer",
        "Axxis",
        "Kinski",
        "The Right Ons"
      ],
      "top_albums": [
        "Speedometer - Four Flights Up",
        "Axxis - Doom Of Destiny",
        "Kinski - Down Below It's Chaos",
        "The Right Ons - 80.81"
      ]
    },
    {
      "name": "2002",
      "count": 31,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 20,
        "sdecandelario": 11
      },
      "user_artists": {
        "paqueradejere": [
          "Kreidler",
          "Yann Tiersen",
          "Christian Quermalet"
        ],
        "sdecandelario": [
          "Blind Guardian"
        ]
      },
      "top_artists": [
        "Yann Tiersen",
        "Blind Guardian",
        "Kreidler",
        "Christian Quermalet"
      ],
      "top_albums": [
        "Yann Tiersen - C'√©tait Ici",
        "Blind Guardian - A Night at the Opera",
        "Kreidler - Eve Future",
        "Christian Quermalet - C'√©tait Ici"
      ]
    },
    {
      "name": "2004",
      "count": 24,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 4,
        "sdecandelario": 20
      },
      "user_artists": {
        "paqueradejere": [
          "Kreidler",
          "Sister Gertrude Morgan"
        ],
        "sdecandelario": [
          "Megadeth",
          "Guns N' Roses"
        ]
      },
      "top_artists": [
        "Megadeth",
        "Guns N' Roses",
        "Kreidler",
        "Sister Gertrude Morgan"
      ],
      "top_albums": [
        "Megadeth - Countdown to Extinction",
        "Guns N' Roses - Appetite for Destruction",
        "Kreidler - Eve Future Recall",
        "Sister Gertrude Morgan - Lets Make a Record"
      ]
    },
    {
      "name": "2001",
      "count": 22,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 2,
        "paqueradejere": 1,
        "sdecandelario": 19
      },
      "user_artists": {
        "Nubis84": [
          "Opeth"
        ],
        "paqueradejere": [
          "Mr. Scruff"
        ],
        "sdecandelario": [
          "Judas Priest",
          "Freedom Call",
          "Axxis"
        ]
      },
      "top_artists": [
        "Freedom Call",
        "Judas Priest",
        "Opeth",
        "Mr. Scruff",
        "Axxis"
      ],
      "top_albums": [
        "Freedom Call - Crystal Empire",
        "Judas Priest - Hell Bent for Leather",
        "Opeth - Blackwater Park",
        "Mr. Scruff - Get A Move On / Ug",
        "Axxis - Eyes of Darkness"
      ]
    },
    {
      "name": "2003",
      "count": 21,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 10,
        "sdecandelario": 11
      },
      "user_artists": {
        "paqueradejere": [
          "Tosca",
          "King Britt"
        ],
        "sdecandelario": [
          "HammerFall",
          "Queensr√øche"
        ]
      },
      "top_artists": [
        "Tosca",
        "Queensr√øche",
        "HammerFall",
        "King Britt"
      ],
      "top_albums": [
        "Tosca - Dehli9",
        "Queensr√øche - Empire",
        "HammerFall - Crimson Thunder",
        "King Britt - Adventures in Lo-Fi"
      ]
    },
    {
      "name": "2008",
      "count": 19,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 3,
        "paqueradejere": 7,
        "sdecandelario": 9
      },
      "user_artists": {
        "Nubis84": [
          "Opeth"
        ],
        "paqueradejere": [
          "Flying Saucer Attack",
          "Lou Rawls",
          "Four Tet",
          "BiggaBush",
          "Quadro Nuevo",
          "Alphonse Mouzon"
        ],
        "sdecandelario": [
          "AC/DC"
        ]
      },
      "top_artists": [
        "AC/DC",
        "Opeth",
        "Quadro Nuevo",
        "Flying Saucer Attack",
        "BiggaBush",
        "Alphonse Mouzon",
        "Four Tet",
        "Lou Rawls"
      ],
      "top_albums": [
        "AC/DC - Black Ice",
        "Opeth - Damnation",
        "Quadro Nuevo - Antakya",
        "Flying Saucer Attack - Chamber Music - James Joyce (1907). 1-36.",
        "BiggaBush - 13 Faces Of Lightning Head",
        "Alphonse Mouzon - Groovexperience : High Voltage Blue Note Plugs In To The Electric Funktion",
        "Four Tet - In The Air",
        "Lou Rawls - Blue Note Plays Bossa Nova"
      ]
    },
    {
      "name": "2009",
      "count": 18,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 9,
        "paqueradejere": 9
      },
      "user_artists": {
        "Nubis84": [
          "Dream Theater"
        ],
        "paqueradejere": [
          "The Pimps of Joytime",
          "DJ DRM",
          "Subatomic Sound System",
          "Apeanaut",
          "Sharon Jones & The Dap-Kings",
          "Akoya Afrobeat",
          "Midnight Lab Band",
          "Chimp Beams",
          "Captain Planet"
        ]
      },
      "top_artists": [
        "Dream Theater",
        "Apeanaut",
        "Chimp Beams",
        "Subatomic Sound System",
        "Sharon Jones & The Dap-Kings",
        "DJ DRM",
        "Akoya Afrobeat",
        "Midnight Lab Band",
        "Captain Planet",
        "The Pimps of Joytime"
      ],
      "top_albums": [
        "Dream Theater - Black Clouds & Silver Linings [Special Edition]",
        "Apeanaut - Bklyn: Heavy Sounds From The County Of Kings",
        "Chimp Beams - Bklyn: Heavy Sounds from the County of Kings",
        "Subatomic Sound System - Bklyn: Heavy Sounds From The County Of Kings",
        "Sharon Jones & The Dap-Kings - Bklyn: Heavy Sounds From The County Of Kings",
        "DJ DRM - Bklyn: Heavy Sounds From The County Of Kings",
        "Akoya Afrobeat - Bklyn: Heavy Sounds From The County Of Kings",
        "Midnight Lab Band - Bklyn: Heavy Sounds From The County Of Kings",
        "Captain Planet - BKLYN: Heavy Sounds From The County Of Kings",
        "The Pimps of Joytime - Bklyn: Heavy Sounds From The County Of Kings"
      ]
    },
    {
      "name": "2005",
      "count": 18,
      "users": [
        "Nubis84",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 4,
        "paqueradejere": 14
      },
      "user_artists": {
        "Nubis84": [
          "Porcupine Tree",
          "The Mars Volta"
        ],
        "paqueradejere": [
          "Charlie Byrd",
          "Nickodemus"
        ]
      },
      "top_artists": [
        "Nickodemus",
        "The Mars Volta",
        "Porcupine Tree",
        "Charlie Byrd"
      ],
      "top_albums": [
        "Nickodemus - Endangered Species",
        "The Mars Volta - Frances the Mute",
        "Porcupine Tree - Deadwing",
        "Charlie Byrd - Bossanova (This is Jazz #29)"
      ]
    },
    {
      "name": "1994",
      "count": 18,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 8,
        "sdecandelario": 10
      },
      "user_artists": {
        "paqueradejere": [
          "Portishead",
          "Kofi"
        ],
        "sdecandelario": [
          "AC/DC"
        ]
      },
      "top_artists": [
        "AC/DC",
        "Portishead",
        "Kofi"
      ],
      "top_albums": [
        "AC/DC - Highway to Hell",
        "Portishead - Dummy",
        "Kofi - Friday's Child"
      ]
    },
    {
      "name": "1998",
      "count": 14,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 4,
        "sdecandelario": 10
      },
      "user_artists": {
        "paqueradejere": [
          "Kortatu"
        ],
        "sdecandelario": [
          "Megadeth",
          "AC/DC",
          "Helloween"
        ]
      },
      "top_artists": [
        "AC/DC",
        "Kortatu",
        "Megadeth",
        "Helloween"
      ],
      "top_albums": [
        "AC/DC - Let There Be Rock",
        "Kortatu - A Frontline Compilation",
        "Megadeth - Cryptic Writings",
        "Helloween - Better Than Raw"
      ]
    },
    {
      "name": "1987",
      "count": 12,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 1,
        "sdecandelario": 11
      },
      "user_artists": {
        "paqueradejere": [
          "Kortatu"
        ],
        "sdecandelario": [
          "Savatage",
          "Warlock",
          "M√∂tley Cr√ºe"
        ]
      },
      "top_artists": [
        "M√∂tley Cr√ºe",
        "Savatage",
        "Kortatu",
        "Warlock"
      ],
      "top_albums": [
        "M√∂tley Cr√ºe - Girls, Girls, Girls",
        "Savatage - Hall of the Mountain King",
        "Kortatu - Bat, Bi, Hiru... Hamar",
        "Warlock - Burning The Witches"
      ]
    },
    {
      "name": "1999",
      "count": 11,
      "users": [
        "Nubis84",
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "Nubis84": 6,
        "paqueradejere": 3,
        "sdecandelario": 2
      },
      "user_artists": {
        "Nubis84": [
          "Genesis"
        ],
        "paqueradejere": [
          "Beth Orton"
        ],
        "sdecandelario": [
          "Sonata Arctica"
        ]
      },
      "top_artists": [
        "Genesis",
        "Beth Orton",
        "Sonata Arctica"
      ],
      "top_albums": [
        "Genesis - Foxtrot",
        "Beth Orton - Central Reservation",
        "Sonata Arctica - Ecliptica"
      ]
    },
    {
      "name": "2010",
      "count": 9,
      "users": [
        "sdecandelario",
        "paqueradejere"
      ],
      "user_counts": {
        "paqueradejere": 2,
        "sdecandelario": 7
      },
      "user_artists": {
        "paqueradejere": [
          "Orsten",
          "Koop"
        ],
        "sdecandelario": [
          "Pantera"
        ]
      },
      "top_artists": [
        "Pantera",
        "Orsten",
        "Koop"
      ],
      "top_albums": [
        "Pantera - Cowboys From Hell",
        "Orsten - BVLGARI",
        "Koop - BVLGARI"
      ]
    }
  ],
  "novelties": {
    "nuevos": {
      "artists": [
        {
          "name": "The Alan Parsons Project",
          "count": 31,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246206407
        },
        {
          "name": "5ive Style",
          "count": 22,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1244044430
        },
        {
          "name": "Kreidler",
          "count": 18,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1243886792
        }
      ],
      "albums": [
        {
          "name": "Dream Theater - Metropolis Part 2:  Scenes From A Memory",
          "artist": "Dream Theater",
          "album": "Metropolis Part 2:  Scenes From A Memory",
          "count": 12,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246359387
        },
        {
          "name": "The Alan Parsons Project - Tales Of Mystery And Imagination",
          "artist": "The Alan Parsons Project",
          "album": "Tales Of Mystery And Imagination",
          "count": 31,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246206407
        },
        {
          "name": "Queen - Queen II",
          "artist": "Queen",
          "album": "Queen II",
          "count": 11,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246203808
        },
        {
          "name": "Lefties Soul Connection - Skimming The Skum",
          "artist": "Lefties Soul Connection",
          "album": "Skimming The Skum",
          "count": 11,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1244126693
        },
        {
          "name": "5ive Style - Miniature Portraits",
          "artist": "5ive Style",
          "album": "Miniature Portraits",
          "count": 12,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1244044430
        },
        {
          "name": "Nickodemus - Endangered Species",
          "artist": "Nickodemus",
          "album": "Endangered Species",
          "count": 13,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1244023892
        },
        {
          "name": "Menahan Street Band - Make the Road by Walking",
          "artist": "Menahan Street Band",
          "album": "Make the Road by Walking",
          "count": 11,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1243967104
        },
        {
          "name": "Reid Anderson - Prog",
          "artist": "Reid Anderson",
          "album": "Prog",
          "count": 11,
          "users": [
            "Nubis84",
            "paqueradejere"
          ],
          "first_date": 1243958191
        },
        {
          "name": "Speedometer - Four Flights Up",
          "artist": "Speedometer",
          "album": "Four Flights Up",
          "count": 14,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1243938456
        },
        {
          "name": "Yann Tiersen - C'√©tait Ici",
          "artist": "Yann Tiersen",
          "album": "C'√©tait Ici",
          "count": 12,
          "users": [
            "paqueradejere"
          ],
          "first_date": 1243855294
        }
      ],
      "tracks": [
        {
          "name": "Cream - Crossroads",
          "artist": "Cream",
          "track": "Crossroads",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246303814
        },
        {
          "name": "The Alan Parsons Project - The Fall Of The House Of Usher: Fall - 1976 Instrumental",
          "artist": "The Alan Parsons Project",
          "track": "The Fall Of The House Of Usher: Fall - 1976 Instrumental",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246208619
        },
        {
          "name": "The Alan Parsons Project - The Fall Of The House Of Usher: Pavane - 1976 Instrumental",
          "artist": "The Alan Parsons Project",
          "track": "The Fall Of The House Of Usher: Pavane - 1976 Instrumental",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246208343
        },
        {
          "name": "The Alan Parsons Project - The Fall Of The House Of Usher: Intermezzo - 1976 Instrumental",
          "artist": "The Alan Parsons Project",
          "track": "The Fall Of The House Of Usher: Intermezzo - 1976 Instrumental",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246208279
        },
        {
          "name": "The Alan Parsons Project - The Fall Of The House Of Usher: Arrival - 1976 Instrumental",
          "artist": "The Alan Parsons Project",
          "track": "The Fall Of The House Of Usher: Arrival - 1976 Instrumental",
          "count": 3,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246208117
        },
        {
          "name": "The Alan Parsons Project - The Fall Of The House Of Usher: Prelude - 1976 Instrumental",
          "artist": "The Alan Parsons Project",
          "track": "The Fall Of The House Of Usher: Prelude - 1976 Instrumental",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246207716
        },
        {
          "name": "Dream Theater - Stargazer",
          "artist": "Dream Theater",
          "track": "Stargazer",
          "count": 2,
          "users": [
            "Nubis84"
          ],
          "first_date": 1246190383
        },
        {
          "name": "Reid Anderson - Tom Sawyer",
          "artist": "Reid Anderson",
          "track": "Tom Sawyer",
          "count": 2,
          "users": [
            "Nubis84",
            "paqueradejere"
          ],
          "first_date": 1243961531
        }
      ]
    },
    "nuevos_compartidos": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuario": {
      "artists": [],
      "albums": [],
      "tracks": []
    },
    "nuevos_para_usuarios": {
      "Nubis84": {
        "artists": [
          {
            "name": "The Who",
            "period_count": 1,
            "total_count": 306,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1246303370
          },
          {
            "name": "Iron Maiden",
            "period_count": 1,
            "total_count": 202,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1246201731
          },
          {
            "name": "Rainbow",
            "period_count": 2,
            "total_count": 73,
            "coincident_users": [
              "sdecandelario"
            ],
            "num_coincidences": 1,
            "first_date": 1246193368
          },
          {
            "name": "Reid Anderson",
            "period_count": 1,
            "total_count": 1,
            "coincident_users": [
              "paqueradejere"
            ],
            "num_coincidences": 1,
            "first_date": 1246203101
          }
        ],
        "albums": [
          {
            "name": "Reid Anderson - Prog",
            "artist": "Reid Anderson",
            "album": "Prog",
            "period_count": 1,
            "total_count": 1,
            "coincident_users": [
              "paqueradejere"
            ],
            "num_coincidences": 1,
            "first_date": 1246203101
          }
        ],
        "tracks": [
          {
            "name": "Reid Anderson - Tom Sawyer",
            "artist": "Reid Anderson",
            "track": "Tom Sawyer",
            "period_count": 1,
            "total_count": 1,
            "coincident_users": [
              "paqueradejere"
            ],
            "num_coincidences": 1,
            "first_date": 1246203101
          }
        ]
      },
      "paqueradejere": {
        "artists": [],
        "albums": [
          {
            "name": "Reid Anderson - Prog",
            "artist": "Reid Anderson",
            "album": "Prog",
            "period_count": 10,
            "total_count": 10,
            "coincident_users": [
              "Nubis84"
            ],
            "num_coincidences": 1,
            "first_date": 1243958191
          }
        ],
        "tracks": [
          {
            "name": "Reid Anderson - Tom Sawyer",
            "artist": "Reid Anderson",
            "track": "Tom Sawyer",
            "period_count": 1,
            "total_count": 1,
            "coincident_users": [
              "Nubis84"
            ],
            "num_coincidences": 1,
            "first_date": 1243961531
          }
        ]
      }
    }
  },
  "period_label": "June 2009",
  "from_date": "2009-06-01",
  "to_date": "2009-06-30",
  "generated_at": "2025-11-21 13:27"
};
        const hasNovelties = stats.novelties !== undefined;

        // Funci√≥n para obtener novedades de usuario desde datos precalculados
        function getUserNovelties(user) {
            if (!stats.novelties || !stats.novelties.nuevos_para_usuarios) {
                return { artists: [], albums: [], tracks: [] };
            }

            return stats.novelties.nuevos_para_usuarios[user] || { artists: [], albums: [], tracks: [] };
        }

        // Funcionalidad del bot√≥n de usuario
        function initializeUserSelector() {
            const userButton = document.getElementById('userButton');
            const userModal = document.getElementById('userModal');
            const userModalClose = document.getElementById('userModalClose');
            const userOptions = document.getElementById('userOptions');

            // Cargar usuario guardado desde localStorage
            let selectedUser = localStorage.getItem('lastfm_selected_user') || '';

            // Llenar opciones de usuarios
            availableUsers.forEach(user => {
                const option = document.createElement('div');
                option.className = 'user-option';
                option.dataset.user = user;
                option.textContent = user;
                userOptions.appendChild(option);
            });

            // Marcar opci√≥n seleccionada
            updateSelectedUserOption(selectedUser);

            // Event listeners
            userButton.addEventListener('click', () => {
                userModal.style.display = 'block';
            });

            userModalClose.addEventListener('click', () => {
                userModal.style.display = 'none';
            });

            userModal.addEventListener('click', (e) => {
                if (e.target === userModal) {
                    userModal.style.display = 'none';
                }
            });

            userOptions.addEventListener('click', (e) => {
                if (e.target.classList.contains('user-option')) {
                    const user = e.target.dataset.user;
                    selectedUser = user;

                    // Guardar en localStorage
                    if (user) {
                        localStorage.setItem('lastfm_selected_user', user);
                    } else {
                        localStorage.removeItem('lastfm_selected_user');
                    }

                    updateSelectedUserOption(user);
                    userModal.style.display = 'none';
                    renderStats(); // Re-renderizar con nuevo usuario
                }
            });

            return selectedUser;
        }

        function updateSelectedUserOption(selectedUser) {
            const userOptions = document.getElementById('userOptions');
            userOptions.querySelectorAll('.user-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.user === selectedUser) {
                    option.classList.add('selected');
                }
            });
        }

        // Inicializar categor√≠as activas
        let activeCategories = new Set(['artists']); // Por defecto mostrar artistas
        let selectedUser = '';

        document.getElementById('dateRange').textContent = `${stats.from_date || ''} ‚Üí ${stats.to_date || ''}`;
        document.getElementById('totalScrobbles').textContent = stats.total_scrobbles || 0;
        document.getElementById('generatedAt').textContent = stats.generated_at || '';

        // Manejar filtros de categor√≠as
        const categoryFilters = document.querySelectorAll('.category-filter');
        categoryFilters.forEach(filter => {
            filter.addEventListener('click', () => {
                const category = filter.dataset.category;

                if (activeCategories.has(category)) {
                    activeCategories.delete(category);
                    filter.classList.remove('active');
                } else {
                    activeCategories.add(category);
                    filter.classList.add('active');
                }

                renderStats();
            });
        });

        function showArtistsPopup(itemName, category, user) {
            const item = stats[category].find(item => item.name === itemName);
            if (!item || !item.user_artists || !item.user_artists[user]) return;

            const artists = item.user_artists[user];

            // Crear overlay
            const overlay = document.createElement('div');
            overlay.className = 'popup-overlay';

            // Crear popup
            const popup = document.createElement('div');
            popup.className = 'artists-popup';

            const header = document.createElement('div');
            header.className = 'popup-header';

            const closeBtn = document.createElement('button');
            closeBtn.className = 'popup-close';
            closeBtn.innerHTML = '√ó';
            closeBtn.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            header.innerHTML = `Artistas de ${user} en "${itemName}"`;
            header.appendChild(closeBtn);

            const artistList = document.createElement('ul');
            artistList.className = 'artist-list';

            artists.forEach(artist => {
                const li = document.createElement('li');
                li.textContent = artist;
                artistList.appendChild(li);
            });

            popup.appendChild(header);
            popup.appendChild(artistList);

            // Cerrar al hacer click en overlay
            overlay.onclick = () => {
                document.body.removeChild(overlay);
                document.body.removeChild(popup);
            };

            document.body.appendChild(overlay);
            document.body.appendChild(popup);
        }

        function createNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';

            if (selectedUser && item.users.includes(selectedUser)) {
                itemDiv.classList.add('highlighted');
            }

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Conteo de plays si existe
            if (item.count) {
                const countBadge = document.createElement('span');
                countBadge.className = 'badge';
                countBadge.textContent = `${item.count} plays`;
                itemMeta.appendChild(countBadge);
            }

            // Fecha de primer scrobble
            const date = new Date(item.first_date * 1000);
            const dateBadge = document.createElement('span');
            dateBadge.className = 'badge';
            dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
            itemMeta.appendChild(dateBadge);

            // Usuarios que lo han escuchado
            item.users.forEach(user => {
                const userBadge = document.createElement('span');
                userBadge.className = 'user-badge';
                if (user === selectedUser) {
                    userBadge.classList.add('highlighted-user');
                }
                userBadge.textContent = user;
                itemMeta.appendChild(userBadge);
            });

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function createUserNoveltyItem(item, selectedUser) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'item';
            itemDiv.classList.add('highlighted'); // Siempre resaltado para el usuario

            const itemName = document.createElement('div');
            itemName.className = 'item-name';
            itemName.textContent = item.name;
            itemDiv.appendChild(itemName);

            const itemMeta = document.createElement('div');
            itemMeta.className = 'item-meta';

            // Total de scrobbles del usuario para este elemento
            if (item.total_count) {
                const totalBadge = document.createElement('span');
                totalBadge.className = 'badge';
                totalBadge.style.background = '#cba6f7';
                totalBadge.style.color = '#1e1e2e';
                totalBadge.textContent = `${item.total_count} total plays`;
                itemMeta.appendChild(totalBadge);
            }

            // Scrobbles en este per√≠odo
            if (item.period_count) {
                const periodBadge = document.createElement('span');
                periodBadge.className = 'badge';
                periodBadge.textContent = `${item.period_count} plays per√≠odo`;
                itemMeta.appendChild(periodBadge);
            }

            // Fecha de primera vez del usuario (si est√° disponible)
            if (item.first_date || item.user_first_date) {
                const date = new Date((item.first_date || item.user_first_date) * 1000);
                const dateBadge = document.createElement('span');
                dateBadge.className = 'badge';
                dateBadge.style.background = '#a6e3a1';
                dateBadge.style.color = '#1e1e2e';
                dateBadge.textContent = `Primera vez: ${date.toLocaleDateString('es-ES')}`;
                itemMeta.appendChild(dateBadge);
            }

            // Usuarios que tambi√©n lo escucharon (coincidencias)
            if (item.coincident_users && item.coincident_users.length > 0) {
                item.coincident_users.forEach(user => {
                    const userBadge = document.createElement('span');
                    userBadge.className = 'user-badge';
                    userBadge.textContent = user;
                    itemMeta.appendChild(userBadge);
                });
            }

            // Informaci√≥n de coincidencias
            if (item.num_coincidences) {
                const coincidencesBadge = document.createElement('span');
                coincidencesBadge.className = 'badge';
                coincidencesBadge.style.background = '#f38ba8';
                coincidencesBadge.style.color = '#1e1e2e';
                coincidencesBadge.textContent = `${item.num_coincidences} coincidencias`;
                itemMeta.appendChild(coincidencesBadge);
            }

            itemDiv.appendChild(itemMeta);
            return itemDiv;
        }

        function renderStats() {
            const container = document.getElementById('categoriesContainer');
            container.innerHTML = '';

            const categoryTitles = {
                artists: 'Artistas M√°s Escuchados',
                tracks: 'Canciones M√°s Escuchadas',
                albums: '√Ålbumes M√°s Escuchados',
                genres: 'G√©neros M√°s Escuchados',
                labels: 'Sellos M√°s Escuchados',
                years: 'A√±os M√°s Escuchados',
                novelties: 'Novedades'
            };

            let hasData = false;

            ['artists', 'tracks', 'albums', 'genres', 'labels', 'years', 'novelties'].forEach(categoryKey => {
                if (!activeCategories.has(categoryKey)) return;

                // Manejo especial para novedades
                if (categoryKey === 'novelties') {
                    if (!hasNovelties || !stats.novelties) return;

                    hasData = true;
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'category visible';
                    categoryDiv.dataset.category = categoryKey;

                    const title = document.createElement('h3');
                    title.textContent = categoryTitles[categoryKey];
                    categoryDiv.appendChild(title);

                    // NUEVOS PARA TODOS
                    const nuevosSection = document.createElement('div');
                    nuevosSection.className = 'novelty-section';

                    const nuevosTitle = document.createElement('h4');
                    nuevosTitle.textContent = 'üÜï Nuevos para todos';
                    nuevosSection.appendChild(nuevosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos';
                            subsection.appendChild(emptyDiv);
                        }

                        nuevosSection.appendChild(subsection);
                    });

                    categoryDiv.appendChild(nuevosSection);

                    // NUEVOS COMPARTIDOS
                    const compartidosSection = document.createElement('div');
                    compartidosSection.className = 'novelty-section';

                    const compartidosTitle = document.createElement('h4');
                    compartidosTitle.textContent = 'üë• Nuevos compartidos (50%+ del grupo)';
                    compartidosSection.appendChild(compartidosTitle);

                    ['artists', 'albums', 'tracks'].forEach(type => {
                        const subsection = document.createElement('div');
                        subsection.className = 'novelty-subsection';

                        const subsectionTitle = document.createElement('h5');
                        subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                     type === 'albums' ? '√Ålbumes' : 'Canciones';
                        subsection.appendChild(subsectionTitle);

                        const items = stats.novelties.nuevos_compartidos[type];
                        if (items && items.length > 0) {
                            items.forEach(item => {
                                const itemDiv = createNoveltyItem(item, selectedUser);
                                subsection.appendChild(itemDiv);
                            });
                        } else {
                            const emptyDiv = document.createElement('div');
                            emptyDiv.className = 'novelty-empty';
                            emptyDiv.textContent = 'No hay elementos nuevos compartidos';
                            subsection.appendChild(emptyDiv);
                        }

                        compartidosSection.appendChild(subsection);
                    });

                    // NUEVOS PARA USUARIO SELECCIONADO
                    if (selectedUser) {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = `üë§ Nuevos para ${selectedUser} (ya conocidos por el grupo)`;
                        usuarioSection.appendChild(usuarioTitle);

                        // Calcular novedades para el usuario
                        const userNovelties = getUserNovelties(selectedUser);

                        ['artists', 'albums', 'tracks'].forEach(type => {
                            const subsection = document.createElement('div');
                            subsection.className = 'novelty-subsection';

                            const subsectionTitle = document.createElement('h5');
                            subsectionTitle.textContent = type === 'artists' ? 'Artistas' :
                                                         type === 'albums' ? '√Ålbumes' : 'Canciones';
                            subsection.appendChild(subsectionTitle);

                            const items = userNovelties[type];
                            if (items && items.length > 0) {
                                items.forEach(item => {
                                    const itemDiv = createUserNoveltyItem(item, selectedUser);
                                    subsection.appendChild(itemDiv);
                                });
                            } else {
                                const emptyDiv = document.createElement('div');
                                emptyDiv.className = 'novelty-empty';
                                const typeText = type === 'artists' ? 'artistas' :
                                               type === 'albums' ? '√°lbumes' : 'canciones';
                                emptyDiv.textContent = items ?
                                    `No hay ${typeText} nuevos para ${selectedUser} con coincidencias en el per√≠odo` :
                                    'Calculando novedades del usuario...';
                                subsection.appendChild(emptyDiv);
                            }

                            usuarioSection.appendChild(subsection);
                        });

                        categoryDiv.appendChild(usuarioSection);
                    } else {
                        const usuarioSection = document.createElement('div');
                        usuarioSection.className = 'novelty-section';

                        const usuarioTitle = document.createElement('h4');
                        usuarioTitle.textContent = 'üë§ Nuevos para usuario espec√≠fico';
                        usuarioSection.appendChild(usuarioTitle);

                        const infoDiv = document.createElement('div');
                        infoDiv.className = 'novelty-empty';
                        infoDiv.textContent = 'Selecciona un usuario para ver sus novedades personales';
                        usuarioSection.appendChild(infoDiv);

                        categoryDiv.appendChild(usuarioSection);
                    }
                    container.appendChild(categoryDiv);
                    return;
                }

                if (!stats[categoryKey] || stats[categoryKey].length === 0) return;

                hasData = true;
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category visible';
                categoryDiv.dataset.category = categoryKey;

                const title = document.createElement('h3');
                title.textContent = categoryTitles[categoryKey];
                categoryDiv.appendChild(title);

                stats[categoryKey].forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'item';

                    if (selectedUser && item.users.includes(selectedUser)) {
                        itemDiv.classList.add('highlighted');
                    }

                    // Hacer clickeable si es g√©nero, a√±o o sello y hay usuario seleccionado
                    const isClickableForUser = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                       selectedUser &&
                                       item.users.includes(selectedUser) &&
                                       item.user_artists &&
                                       item.user_artists[selectedUser];

                    // Hacer expandible si tiene informaci√≥n detallada
                    const isExpandable = ['genres', 'labels', 'years'].includes(categoryKey) &&
                                         ((item.top_artists && item.top_artists.length > 0) ||
                                          (item.top_albums && item.top_albums.length > 0));

                    const itemName = document.createElement('div');
                    itemName.className = 'item-name';
                    itemName.textContent = item.name;

                    if (isExpandable) {
                        itemDiv.classList.add('expandable');
                    }

                    itemDiv.appendChild(itemName);

                    const itemMeta = document.createElement('div');
                    itemMeta.className = 'item-meta';

                    const countBadge = document.createElement('span');
                    countBadge.className = 'badge';
                    countBadge.textContent = `${item.count} plays`;
                    itemMeta.appendChild(countBadge);

                    item.users.sort((a, b) => (item.user_counts[b] || 0) - (item.user_counts[a] || 0));

                    item.users.forEach(user => {
                        const userBadge = document.createElement('span');
                        userBadge.className = 'user-badge';
                        if (user === selectedUser) {
                            userBadge.classList.add('highlighted-user');
                        }

                        const userScrobbles = item.user_counts[user] || 0;
                        userBadge.textContent = `${user} (${userScrobbles})`;

                        if (isClickableForUser && user === selectedUser) {
                            userBadge.style.cursor = 'pointer';
                            userBadge.addEventListener('click', (e) => {
                                e.stopPropagation();
                                showArtistsPopup(item.name, categoryKey, user);
                            });
                        }

                        itemMeta.appendChild(userBadge);
                    });

                    itemDiv.appendChild(itemMeta);

                    // Detalles expandibles
                    if (isExpandable) {
                        const detailsDiv = document.createElement('div');
                        detailsDiv.className = 'details';

                        if (item.top_artists && item.top_artists.length > 0) {
                            const artistSection = document.createElement('div');
                            artistSection.className = 'detail-section';

                            const artistTitle = document.createElement('div');
                            artistTitle.className = 'detail-title';
                            artistTitle.textContent = 'Top Artistas:';
                            artistSection.appendChild(artistTitle);

                            const artistList = document.createElement('div');
                            artistList.className = 'detail-list';

                            item.top_artists.slice(0, 10).forEach(artist => {
                                const artistItem = document.createElement('span');
                                artistItem.className = 'detail-item';
                                artistItem.textContent = artist;
                                artistList.appendChild(artistItem);
                            });

                            artistSection.appendChild(artistList);
                            detailsDiv.appendChild(artistSection);
                        }

                        if (item.top_albums && item.top_albums.length > 0) {
                            const albumSection = document.createElement('div');
                            albumSection.className = 'detail-section';

                            const albumTitle = document.createElement('div');
                            albumTitle.className = 'detail-title';
                            albumTitle.textContent = 'Top √Ålbumes:';
                            albumSection.appendChild(albumTitle);

                            const albumList = document.createElement('div');
                            albumList.className = 'detail-list';

                            item.top_albums.slice(0, 10).forEach(album => {
                                const albumItem = document.createElement('span');
                                albumItem.className = 'detail-item';
                                albumItem.textContent = album;
                                albumList.appendChild(albumItem);
                            });

                            albumSection.appendChild(albumList);
                            detailsDiv.appendChild(albumSection);
                        }

                        itemDiv.appendChild(detailsDiv);

                        itemDiv.addEventListener('click', (e) => {
                            if (e.target.classList.contains('user-badge') && e.target.style.cursor === 'pointer') {
                                return;
                            }

                            itemDiv.classList.toggle('expanded');
                            detailsDiv.classList.toggle('expanded');
                        });
                    }

                    categoryDiv.appendChild(itemDiv);
                });

                container.appendChild(categoryDiv);
            });

            if (!hasData) {
                const noDataDiv = document.createElement('div');
                noDataDiv.className = 'no-data';
                noDataDiv.textContent = 'No hay datos para mostrar con los filtros seleccionados.';
                container.appendChild(noDataDiv);
            }
        }

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            selectedUser = initializeUserSelector();
            renderStats();
        });
    </script>
</body>
</html>